{
  "name": "glowing-effect",
  "dependencies": [
    "motion-v"
  ],
  "files": [
    {
      "path": "GlowingEffect.vue",
      "content": "<template>\r\n  <div\r\n    :class=\"\r\n      cn(\r\n        'pointer-events-none absolute -inset-px hidden rounded-[inherit] border opacity-0 transition-opacity',\r\n        glow && 'opacity-100',\r\n        variant === 'white' && 'border-white',\r\n        disabled && '!block',\r\n      )\r\n    \"\r\n  />\r\n  <div\r\n    ref=\"containerRef\"\r\n    :style=\"containerStyles\"\r\n    :class=\"\r\n      cn(\r\n        'pointer-events-none absolute inset-0 rounded-[inherit] opacity-100 transition-opacity',\r\n        glow && 'opacity-100',\r\n        blur > 0 && 'blur-[var(--blur)]',\r\n        props.class,\r\n        disabled && '!hidden',\r\n      )\r\n    \"\r\n  >\r\n    <div\r\n      :class=\"\r\n        cn(\r\n          'glow',\r\n          'rounded-[inherit]',\r\n          `after:content-[''] after:rounded-[inherit] after:absolute after:inset-[calc(-1*var(--glowingeffect-border-width))]`,\r\n          'after:[border:var(--glowingeffect-border-width)_solid_transparent]',\r\n          'after:[background:var(--gradient)] after:[background-attachment:fixed]',\r\n          'after:opacity-[var(--active)] after:transition-opacity after:duration-300',\r\n          'after:[mask-clip:padding-box,border-box]',\r\n          'after:[mask-composite:intersect]',\r\n          'after:[mask-image:linear-gradient(#0000,#0000),conic-gradient(from_calc((var(--start)-var(--spread))*1deg),#00000000_0deg,#fff,#00000000_calc(var(--spread)*2deg))]',\r\n        )\r\n      \"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { cn } from \"@/lib/utils\";\r\nimport { animate } from \"motion-v\";\r\nimport type { HTMLAttributes } from \"vue\";\r\n\r\ninterface Props {\r\n  blur?: number;\r\n  inactiveZone?: number;\r\n  proximity?: number;\r\n  spread?: number;\r\n  variant?: \"default\" | \"white\";\r\n  glow?: boolean;\r\n  class?: HTMLAttributes[\"class\"];\r\n  disabled?: boolean;\r\n  movementDuration?: number;\r\n  borderWidth?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  blur: 0,\r\n  inactiveZone: 0.7,\r\n  proximity: 0,\r\n  spread: 20,\r\n  variant: \"default\",\r\n  glow: false,\r\n  movementDuration: 2,\r\n  borderWidth: 1,\r\n  disabled: true,\r\n});\r\n\r\nconst containerRef = templateRef(\"containerRef\");\r\nconst lastPosition = ref({\r\n  x: 0,\r\n  y: 0,\r\n});\r\nconst animationFrame = ref(0);\r\n\r\nconst containerStyles = computed(() => {\r\n  return {\r\n    \"--blur\": `${props.blur}px`,\r\n    \"--spread\": props.spread,\r\n    \"--start\": \"0\",\r\n    \"--active\": \"0\",\r\n    \"--glowingeffect-border-width\": `${props.borderWidth}px`,\r\n    \"--repeating-conic-gradient-times\": \"5\",\r\n    \"--gradient\":\r\n      props.variant === \"white\"\r\n        ? `repeating-conic-gradient(\r\n                  from 236.84deg at 50% 50%,\r\n                  var(--black),\r\n                  var(--black) calc(25% / var(--repeating-conic-gradient-times))\r\n                )`\r\n        : `radial-gradient(circle, #dd7bbb 10%, #dd7bbb00 20%),\r\n                radial-gradient(circle at 40% 40%, #d79f1e 5%, #d79f1e00 15%),\r\n                radial-gradient(circle at 60% 60%, #5a922c 10%, #5a922c00 20%), \r\n                radial-gradient(circle at 40% 60%, #4c7894 10%, #4c789400 20%),\r\n                repeating-conic-gradient(\r\n                  from 236.84deg at 50% 50%,\r\n                  #dd7bbb 0%,\r\n                  #d79f1e calc(25% / var(--repeating-conic-gradient-times)),\r\n                  #5a922c calc(50% / var(--repeating-conic-gradient-times)), \r\n                  #4c7894 calc(75% / var(--repeating-conic-gradient-times)),\r\n                  #dd7bbb calc(100% / var(--repeating-conic-gradient-times))\r\n                )`,\r\n  };\r\n});\r\n\r\nonMounted(() => {\r\n  if (props.disabled) return;\r\n\r\n  window.addEventListener(\"scroll\", handleScroll, { passive: true });\r\n  document.body.addEventListener(\"pointermove\", handlePointerMove, {\r\n    passive: true,\r\n  });\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (animationFrame.value) {\r\n    cancelAnimationFrame(animationFrame.value);\r\n  }\r\n\r\n  window.removeEventListener(\"scroll\", handleScroll);\r\n  document.body.removeEventListener(\"pointermove\", handlePointerMove);\r\n});\r\n\r\nfunction handlePointerMove(e: PointerEvent) {\r\n  handleMove(e);\r\n}\r\n\r\nfunction handleScroll() {\r\n  handleMove();\r\n}\r\n\r\nfunction handleMove(e?: MouseEvent | PointerEvent | { x: number; y: number }) {\r\n  if (!containerRef.value) return;\r\n\r\n  if (animationFrame.value) {\r\n    cancelAnimationFrame(animationFrame.value);\r\n  }\r\n\r\n  animationFrame.value = requestAnimationFrame(() => {\r\n    const element = containerRef.value;\r\n\r\n    if (!element) return;\r\n\r\n    const { left, top, width, height } = element.getBoundingClientRect();\r\n\r\n    const mouseX = e?.x ?? lastPosition.value.x;\r\n    const mouseY = e?.y ?? lastPosition.value.y;\r\n\r\n    if (e) {\r\n      lastPosition.value = { x: mouseX, y: mouseY };\r\n    }\r\n\r\n    const center = [left + width * 0.5, top + height * 0.5];\r\n    const distanceFromCenter = Math.hypot(mouseX - center[0], mouseY - center[1]);\r\n    const inactiveRadius = 0.5 * Math.min(width, height) * props.inactiveZone;\r\n\r\n    if (distanceFromCenter < inactiveRadius) {\r\n      element.style.setProperty(\"--active\", \"0\");\r\n      return;\r\n    }\r\n\r\n    const isActive =\r\n      mouseX > left - props.proximity &&\r\n      mouseX < left + width + props.proximity &&\r\n      mouseY > top - props.proximity &&\r\n      mouseY < top + height + props.proximity;\r\n\r\n    element.style.setProperty(\"--active\", isActive ? \"1\" : \"0\");\r\n\r\n    if (!isActive) return;\r\n\r\n    const currentAngle = parseFloat(element.style.getPropertyValue(\"--start\")) || 0;\r\n    let targetAngle = (180 * Math.atan2(mouseY - center[1], mouseX - center[0])) / Math.PI + 90;\r\n\r\n    const angleDiff = ((targetAngle - currentAngle + 180) % 360) - 180;\r\n    const newAngle = currentAngle + angleDiff;\r\n\r\n    animate(currentAngle, newAngle, {\r\n      duration: props.movementDuration,\r\n      ease: [0.16, 1, 0.3, 1],\r\n      onUpdate: (value) => {\r\n        element.style.setProperty(\"--start\", String(value));\r\n      },\r\n    });\r\n  });\r\n}\r\n</script>\r\n",
      "target": "web"
    },
    {
      "path": "GlowingEffect.vue",
      "content": "<template>\r\n  <view\r\n    :class=\"\r\n      cn(\r\n        'pointer-events-none absolute -inset-px hidden rounded-[inherit] border opacity-0 transition-opacity',\r\n        glow && 'opacity-100',\r\n        variant === 'white' && 'border-white',\r\n        disabled && '!block',\r\n      )\r\n    \"\r\n  />\r\n  <view\r\n    ref=\"containerRef\"\r\n    :style=\"containerStyles\"\r\n    :class=\"\r\n      cn(\r\n        'pointer-events-none absolute inset-0 rounded-[inherit] opacity-100 transition-opacity',\r\n        glow && 'opacity-100',\r\n        blur > 0 && 'blur-[var(--blur)]',\r\n        props.class,\r\n        disabled && '!hidden',\r\n      )\r\n    \"\r\n  >\r\n    <view\r\n      :class=\"\r\n        cn(\r\n          'glow',\r\n          'rounded-[inherit]',\r\n          `after:content-[''] after:rounded-[inherit] after:absolute after:inset-[calc(-1*var(--glowingeffect-border-width))]`,\r\n          'after:[border:var(--glowingeffect-border-width)_solid_transparent]',\r\n          'after:[background:var(--gradient)] after:[background-attachment:fixed]',\r\n          'after:opacity-[var(--active)] after:transition-opacity after:duration-300',\r\n          'after:[mask-clip:padding-box,border-box]',\r\n          'after:[mask-composite:intersect]',\r\n          'after:[mask-image:linear-gradient(#0000,#0000),conic-gradient(from_calc((var(--start)-var(--spread))*1deg),#00000000_0deg,#fff,#00000000_calc(var(--spread)*2deg))]',\r\n        )\r\n      \"\r\n    />\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { cn } from \"@/lib/utils\";\r\nimport { animate } from \"motion-v\";\r\nimport type { HTMLAttributes } from \"vue\";\r\n\r\ninterface Props {\r\n  blur?: number;\r\n  inactiveZone?: number;\r\n  proximity?: number;\r\n  spread?: number;\r\n  variant?: \"default\" | \"white\";\r\n  glow?: boolean;\r\n  class?: HTMLAttributes[\"class\"];\r\n  disabled?: boolean;\r\n  movementDuration?: number;\r\n  borderWidth?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  blur: 0,\r\n  inactiveZone: 0.7,\r\n  proximity: 0,\r\n  spread: 20,\r\n  variant: \"default\",\r\n  glow: false,\r\n  movementDuration: 2,\r\n  borderWidth: 1,\r\n  disabled: true,\r\n});\r\n\r\nconst containerRef = templateRef(\"containerRef\");\r\nconst lastPosition = ref({\r\n  x: 0,\r\n  y: 0,\r\n});\r\nconst animationFrame = ref(0);\r\n\r\nconst containerStyles = computed(() => {\r\n  return {\r\n    \"--blur\": `${props.blur}px`,\r\n    \"--spread\": props.spread,\r\n    \"--start\": \"0\",\r\n    \"--active\": \"0\",\r\n    \"--glowingeffect-border-width\": `${props.borderWidth}px`,\r\n    \"--repeating-conic-gradient-times\": \"5\",\r\n    \"--gradient\":\r\n      props.variant === \"white\"\r\n        ? `repeating-conic-gradient(\r\n                  from 236.84deg at 50% 50%,\r\n                  var(--black),\r\n                  var(--black) calc(25% / var(--repeating-conic-gradient-times))\r\n                )`\r\n        : `radial-gradient(circle, #dd7bbb 10%, #dd7bbb00 20%),\r\n                radial-gradient(circle at 40% 40%, #d79f1e 5%, #d79f1e00 15%),\r\n                radial-gradient(circle at 60% 60%, #5a922c 10%, #5a922c00 20%), \r\n                radial-gradient(circle at 40% 60%, #4c7894 10%, #4c789400 20%),\r\n                repeating-conic-gradient(\r\n                  from 236.84deg at 50% 50%,\r\n                  #dd7bbb 0%,\r\n                  #d79f1e calc(25% / var(--repeating-conic-gradient-times)),\r\n                  #5a922c calc(50% / var(--repeating-conic-gradient-times)), \r\n                  #4c7894 calc(75% / var(--repeating-conic-gradient-times)),\r\n                  #dd7bbb calc(100% / var(--repeating-conic-gradient-times))\r\n                )`,\r\n  };\r\n});\r\n\r\nonMounted(() => {\r\n  if (props.disabled) return;\r\n\r\n  window.addEventListener(\"scroll\", handleScroll, { passive: true });\r\n  document.body.addEventListener(\"pointermove\", handlePointerMove, {\r\n    passive: true,\r\n  });\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (animationFrame.value) {\r\n    cancelAnimationFrame(animationFrame.value);\r\n  }\r\n\r\n  window.removeEventListener(\"scroll\", handleScroll);\r\n  document.body.removeEventListener(\"pointermove\", handlePointerMove);\r\n});\r\n\r\nfunction handlePointerMove(e: PointerEvent) {\r\n  handleMove(e);\r\n}\r\n\r\nfunction handleScroll() {\r\n  handleMove();\r\n}\r\n\r\nfunction handleMove(e?: MouseEvent | PointerEvent | { x: number; y: number }) {\r\n  if (!containerRef.value) return;\r\n\r\n  if (animationFrame.value) {\r\n    cancelAnimationFrame(animationFrame.value);\r\n  }\r\n\r\n  animationFrame.value = requestAnimationFrame(() => {\r\n    const element = containerRef.value;\r\n\r\n    if (!element) return;\r\n\r\n    const { left, top, width, height } = element.getBoundingClientRect();\r\n\r\n    const mouseX = e?.x ?? lastPosition.value.x;\r\n    const mouseY = e?.y ?? lastPosition.value.y;\r\n\r\n    if (e) {\r\n      lastPosition.value = { x: mouseX, y: mouseY };\r\n    }\r\n\r\n    const center = [left + width * 0.5, top + height * 0.5];\r\n    const distanceFromCenter = Math.hypot(mouseX - center[0], mouseY - center[1]);\r\n    const inactiveRadius = 0.5 * Math.min(width, height) * props.inactiveZone;\r\n\r\n    if (distanceFromCenter < inactiveRadius) {\r\n      element.style.setProperty(\"--active\", \"0\");\r\n      return;\r\n    }\r\n\r\n    const isActive =\r\n      mouseX > left - props.proximity &&\r\n      mouseX < left + width + props.proximity &&\r\n      mouseY > top - props.proximity &&\r\n      mouseY < top + height + props.proximity;\r\n\r\n    element.style.setProperty(\"--active\", isActive ? \"1\" : \"0\");\r\n\r\n    if (!isActive) return;\r\n\r\n    const currentAngle = parseFloat(element.style.getPropertyValue(\"--start\")) || 0;\r\n    let targetAngle = (180 * Math.atan2(mouseY - center[1], mouseX - center[0])) / Math.PI + 90;\r\n\r\n    const angleDiff = ((targetAngle - currentAngle + 180) % 360) - 180;\r\n    const newAngle = currentAngle + angleDiff;\r\n\r\n    animate(currentAngle, newAngle, {\r\n      duration: props.movementDuration,\r\n      ease: [0.16, 1, 0.3, 1],\r\n      onUpdate: (value) => {\r\n        element.style.setProperty(\"--start\", String(value));\r\n      },\r\n    });\r\n  });\r\n}\r\n</script>\r\n",
      "target": "uniapp"
    },
    {
      "path": "index.ts",
      "content": "export { default as GlowingEffect } from \"./GlowingEffect.vue\";\r\n"
    }
  ],
  "fileCount": 3,
  "contentHash": "5a7e27de6a2f4e6f5649de50ad220e54ca2b6f98"
}
