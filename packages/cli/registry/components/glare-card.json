{
  "name": "glare-card",
  "dependencies": [
    "@vueuse/core"
  ],
  "files": [
    {
      "path": "GlareCard.vue",
      "content": "<template>\r\n  <div\r\n    ref=\"refElement\"\r\n    class=\"container-style duration-[var(--duration)] ease-[var(--easing)] delay-[var(--delay)] container relative isolate w-[320px] transition-transform will-change-transform [aspect-ratio:17/21] [contain:layout_style] [perspective:600px]\"\r\n    @pointermove=\"handlePointerMove\"\r\n    @pointerenter=\"handlePointerEnter\"\r\n    @pointerleave=\"handlePointerLeave\"\r\n  >\r\n    <div\r\n      class=\"duration-[var(--duration)] ease-[var(--easing)] delay-[var(--delay)] grid h-full origin-center overflow-hidden rounded-lg border border-slate-800 transition-transform will-change-transform [transform:rotateY(var(--r-x))_rotateX(var(--r-y))] hover:filter-none hover:[--duration:200ms] hover:[--easing:linear] hover:[--opacity:0.6]\"\r\n    >\r\n      <div\r\n        class=\"grid size-full mix-blend-soft-light [clip-path:inset(0_0_0_0_round_var(--radius))] [grid-area:1/1]\"\r\n      >\r\n        <div :class=\"cn('size-full bg-slate-950', props.class)\">\r\n          <slot />\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"transition-background duration-[var(--duration)] ease-[var(--easing)] delay-[var(--delay)] will-change-background grid size-full opacity-[var(--opacity)] mix-blend-soft-light transition-opacity [background:radial-gradient(farthest-corner_circle_at_var(--m-x)_var(--m-y),_rgba(255,255,255,0.8)_10%,_rgba(255,255,255,0.65)_20%,_rgba(255,255,255,0)_90%)] [clip-path:inset(0_0_1px_0_round_var(--radius))] [grid-area:1/1]\"\r\n      />\r\n      <div\r\n        class=\"background-style will-change-background after:grid-area-[inherit] after:bg-repeat-[inherit] after:bg-attachment-[inherit] after:bg-origin-[inherit] after:bg-clip-[inherit] relative grid size-full opacity-[var(--opacity)] mix-blend-color-dodge transition-opacity [background-blend-mode:hue_hue_hue_overlay] [background:var(--pattern),_var(--rainbow),_var(--diagonal),_var(--shade)] [clip-path:inset(0_0_1px_0_round_var(--radius))] [grid-area:1/1] after:bg-[inherit] after:mix-blend-exclusion after:content-[\\'\\'] after:[background-blend-mode:soft-light,_hue,_hard-light] after:[background-position:center,_0%_var(--bg-y),_calc(var(--bg-x)*_-1)_calc(var(--bg-y)*_-1),_var(--bg-x)_var(--bg-y)] after:[background-size:var(--foil-size),_200%_400%,_800%,_200%]\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useTimeoutFn } from \"@vueuse/core\";\r\nimport { ref } from \"vue\";\r\n\r\ninterface GlareCardProps {\r\n  class?: string;\r\n}\r\n\r\nconst props = defineProps<GlareCardProps>();\r\n\r\nconst isPointerInside = ref(false);\r\nconst refElement = ref<HTMLElement | null>(null);\r\n\r\nconst state = ref({\r\n  glare: { x: 50, y: 50 },\r\n  background: { x: 50, y: 50 },\r\n  rotate: { x: 0, y: 0 },\r\n});\r\n\r\nfunction handlePointerMove(event: PointerEvent) {\r\n  const rotateFactor = 0.4;\r\n  const rect = refElement.value?.getBoundingClientRect();\r\n  if (rect) {\r\n    const position = {\r\n      x: event.clientX - rect.left,\r\n      y: event.clientY - rect.top,\r\n    };\r\n    const percentage = {\r\n      x: (100 / rect.width) * position.x,\r\n      y: (100 / rect.height) * position.y,\r\n    };\r\n    const delta = {\r\n      x: percentage.x - 50,\r\n      y: percentage.y - 50,\r\n    };\r\n    state.value.background.x = 50 + percentage.x / 4 - 12.5;\r\n    state.value.background.y = 50 + percentage.y / 3 - 16.67;\r\n    state.value.rotate.x = -(delta.x / 3.5) * rotateFactor;\r\n    state.value.rotate.y = (delta.y / 2) * rotateFactor;\r\n    state.value.glare.x = percentage.x;\r\n    state.value.glare.y = percentage.y;\r\n  }\r\n}\r\n\r\nfunction handlePointerEnter() {\r\n  isPointerInside.value = true;\r\n  useTimeoutFn(() => {\r\n    if (isPointerInside.value && refElement.value) {\r\n      refElement.value.style.setProperty(\"--duration\", \"0s\");\r\n    }\r\n  }, 300);\r\n}\r\n\r\nfunction handlePointerLeave() {\r\n  isPointerInside.value = false;\r\n  if (refElement.value) {\r\n    refElement.value.style.removeProperty(\"--duration\");\r\n    state.value.rotate = { x: 0, y: 0 };\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.background-style {\r\n  --step: 5%;\r\n  --foil-svg: url(\"data:image/svg+xml,%3Csvg width='26' height='26' viewBox='0 0 26 26' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.99994 3.419C2.99994 3.419 21.6142 7.43646 22.7921 12.153C23.97 16.8695 3.41838 23.0306 3.41838 23.0306' stroke='white' stroke-width='5' stroke-miterlimit='3.86874' stroke-linecap='round' style='mix-blend-mode:darken'/%3E%3C/svg%3E\");\r\n  --pattern: var(--foil-svg) center/100% no-repeat;\r\n  --rainbow: repeating-linear-gradient(\r\n      0deg,\r\n      rgb(255, 119, 115) calc(var(--step) * 1),\r\n      rgba(255, 237, 95, 1) calc(var(--step) * 2),\r\n      rgba(168, 255, 95, 1) calc(var(--step) * 3),\r\n      rgba(131, 255, 247, 1) calc(var(--step) * 4),\r\n      rgba(120, 148, 255, 1) calc(var(--step) * 5),\r\n      rgb(216, 117, 255) calc(var(--step) * 6),\r\n      rgb(255, 119, 115) calc(var(--step) * 7)\r\n    )\r\n    0% var(--bg-y) / 200% 700% no-repeat;\r\n  --diagonal: repeating-linear-gradient(\r\n      128deg,\r\n      #0e152e 0%,\r\n      hsl(180, 10%, 60%) 3.8%,\r\n      hsl(180, 10%, 60%) 4.5%,\r\n      hsl(180, 10%, 60%) 5.2%,\r\n      #0e152e 10%,\r\n      #0e152e 12%\r\n    )\r\n    var(--bg-x) var(--bg-y) / 300% no-repeat;\r\n  --shade: radial-gradient(\r\n      farthest-corner circle at var(--m-x) var(--m-y),\r\n      rgba(255, 255, 255, 0.1) 12%,\r\n      rgba(255, 255, 255, 0.15) 20%,\r\n      rgba(255, 255, 255, 0.25) 120%\r\n    )\r\n    var(--bg-x) var(--bg-y) / 300% no-repeat;\r\n  background-blend-mode: hue, hue, hue, overlay;\r\n}\r\n.container-style {\r\n  --m-x: v-bind(state.glare.x + \"%\");\r\n  --m-y: v-bind(state.glare.y + \"%\");\r\n  --r-x: v-bind(state.rotate.x + \"deg\");\r\n  --r-y: v-bind(state.rotate.y + \"deg\");\r\n  --bg-x: v-bind(state.background.x + \"%\");\r\n  --bg-y: v-bind(state.background.y + \"%\");\r\n  --duration: 300ms;\r\n  --foil-size: 100%;\r\n  --opacity: 0;\r\n  --radius: 48px;\r\n  --easing: ease;\r\n  --transition: var(--duration) var(--easing);\r\n}\r\n</style>\r\n"
    },
    {
      "path": "index.ts",
      "content": "export { default as GlareCard } from \"./GlareCard.vue\";\r\n"
    }
  ],
  "fileCount": 2,
  "contentHash": "ce4b469114d1bc37c437ad517c9329e0b79e9036"
}
