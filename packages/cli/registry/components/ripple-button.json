{
  "name": "ripple-button",
  "dependencies": [],
  "files": [
    {
      "path": "index.ts",
      "content": "export { default as RippleButton } from \"./RippleButton.vue\";\r\n"
    },
    {
      "path": "RippleButton.vue",
      "content": "<template>\r\n  <button\r\n    ref=\"rippleButtonRef\"\r\n    :class=\"\r\n      cn(\r\n        'relative flex cursor-pointer items-center justify-center overflow-hidden',\r\n        'rounded-lg border-2 bg-background px-4 py-2 text-center text-primary',\r\n        $props.class,\r\n      )\r\n    \"\r\n    :style=\"{ '--duration': $props.duration + 'ms' }\"\r\n    @click=\"handleClick\"\r\n  >\r\n    <div class=\"relative z-10\">\r\n      <slot />\r\n    </div>\r\n\r\n    <span class=\"pointer-events-none absolute inset-0\">\r\n      <span\r\n        v-for=\"ripple in buttonRipples\"\r\n        :key=\"ripple.key\"\r\n        class=\"ripple-animation absolute rounded-full bg-background opacity-30\"\r\n        :style=\"{\r\n          width: ripple.size + 'px',\r\n          height: ripple.size + 'px',\r\n          top: ripple.y + 'px',\r\n          left: ripple.x + 'px',\r\n          backgroundColor: $props.rippleColor,\r\n          transform: 'scale(0)',\r\n          animationDuration: $props.duration + 'ms',\r\n        }\"\r\n      />\r\n    </span>\r\n  </button>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref, watchEffect, type HTMLAttributes } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface RippleButtonProps {\r\n  class?: HTMLAttributes[\"class\"];\r\n  rippleColor?: string;\r\n  duration?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<RippleButtonProps>(), {\r\n  rippleColor: \"#ADD8E6\",\r\n  duration: 600,\r\n});\r\n\r\nconst emit = defineEmits<{\r\n  (e: \"click\", event: MouseEvent): void;\r\n}>();\r\n\r\nconst rippleButtonRef = ref<HTMLButtonElement | null>(null);\r\nconst buttonRipples = ref<Array<{ x: number; y: number; size: number; key: number }>>([]);\r\n\r\nfunction handleClick(event: MouseEvent) {\r\n  createRipple(event);\r\n  emit(\"click\", event);\r\n}\r\n\r\nfunction createRipple(event: MouseEvent) {\r\n  const button = rippleButtonRef.value;\r\n  if (!button) return;\r\n\r\n  const rect = button.getBoundingClientRect();\r\n  const size = Math.max(rect.width, rect.height);\r\n  const x = event.clientX - rect.left - size / 2;\r\n  const y = event.clientY - rect.top - size / 2;\r\n\r\n  const newRipple = { x, y, size, key: Date.now() };\r\n  buttonRipples.value.push(newRipple);\r\n}\r\n\r\nwatchEffect(() => {\r\n  if (buttonRipples.value.length > 0) {\r\n    const lastRipple = buttonRipples.value[buttonRipples.value.length - 1];\r\n    setTimeout(() => {\r\n      buttonRipples.value = buttonRipples.value.filter((ripple) => ripple.key !== lastRipple.key);\r\n    }, props.duration);\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n@keyframes rippling {\r\n  0% {\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    transform: scale(2);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.ripple-animation {\r\n  animation: rippling var(--duration) ease-out;\r\n}\r\n</style>\r\n"
    }
  ],
  "fileCount": 2,
  "contentHash": "7aa38484c00405d6f3bfea25933e89a419e4b39c"
}
