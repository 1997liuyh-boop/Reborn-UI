{
  "name": "warp-background",
  "dependencies": [
    "motion-v"
  ],
  "files": [
    {
      "path": "Beam.vue",
      "content": "<template>\r\n  <Motion\r\n    :style=\"{\r\n      '--x': `${props.x}`,\r\n      '--width': `${props.width}`,\r\n      '--aspect-ratio': `${ar}`,\r\n      '--background': `linear-gradient(hsl(${hue} 80% 60%), transparent)`,\r\n    }\"\r\n    class=\"absolute left-[var(--x)] top-0 [aspect-ratio:1/var(--aspect-ratio)] [background:var(--background)] [width:var(--width)]\"\r\n    :initial=\"{\r\n      x: '-50%',\r\n      y: '100cqmax',\r\n    }\"\r\n    :animate=\"{\r\n      x: '-50%',\r\n      y: '-100%',\r\n    }\"\r\n    :transition=\"{\r\n      duration: props.duration,\r\n      delay: props.delay,\r\n      repeat: Infinity,\r\n      ease: 'linear',\r\n    }\"\r\n  ></Motion>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { Motion } from \"motion-v\";\r\nimport { computed } from \"vue\";\r\n\r\ninterface Props {\r\n  width: string | number;\r\n  x: string | number;\r\n  delay: number;\r\n  duration: number;\r\n}\r\nconst props = defineProps<Props>();\r\n\r\nconst hue = computed(() => Math.floor(Math.random() * 360));\r\nconst ar = computed(() => Math.floor(Math.random() * 10) + 1);\r\n</script>\r\n\r\n<style></style>\r\n",
      "target": "web"
    },
    {
      "path": "Beam.vue",
      "content": "<template>\r\n  <Motion\r\n    :style=\"{\r\n      '--x': `${props.x}`,\r\n      '--width': `${props.width}`,\r\n      '--aspect-ratio': `${ar}`,\r\n      '--background': `linear-gradient(hsl(${hue} 80% 60%), transparent)`,\r\n    }\"\r\n    class=\"absolute left-[var(--x)] top-0 [aspect-ratio:1/var(--aspect-ratio)] [background:var(--background)] [width:var(--width)]\"\r\n    :initial=\"{\r\n      x: '-50%',\r\n      y: '100cqmax',\r\n    }\"\r\n    :animate=\"{\r\n      x: '-50%',\r\n      y: '-100%',\r\n    }\"\r\n    :transition=\"{\r\n      duration: props.duration,\r\n      delay: props.delay,\r\n      repeat: Infinity,\r\n      ease: 'linear',\r\n    }\"\r\n  ></Motion>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { Motion } from \"motion-v\";\r\nimport { computed } from \"vue\";\r\n\r\ninterface Props {\r\n  width: string | number;\r\n  x: string | number;\r\n  delay: number;\r\n  duration: number;\r\n}\r\nconst props = defineProps<Props>();\r\n\r\nconst hue = computed(() => Math.floor(Math.random() * 360));\r\nconst ar = computed(() => Math.floor(Math.random() * 10) + 1);\r\n</script>\r\n\r\n<style></style>\r\n",
      "target": "uniapp"
    },
    {
      "path": "index.ts",
      "content": "export { default as Beam } from \"./Beam.vue\";\r\nexport { default as WarpBackground } from \"./WarpBackground.vue\";\r\n"
    },
    {
      "path": "WarpBackground.vue",
      "content": "<template>\r\n  <div :class=\"cn('relative rounded border md:p-20', props.class)\">\r\n    <div\r\n      :style=\"{\r\n        '--perspective': `${props.perspective}px`,\r\n        '--grid-color': props.gridColor,\r\n        '--beam-size': `${props.beamSize}%`,\r\n      }\"\r\n      class=\"pointer-events-none absolute left-0 top-0 size-full overflow-hidden [clip-path:inset(0)] [container-type:size] [perspective:var(--perspective)] [transform-style:preserve-3d]\"\r\n    >\r\n      <!-- TOP -->\r\n      <div\r\n        class=\"absolute [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:50%_0%] [transform-style:preserve-3d] [transform:rotateX(-90deg)] [width:100cqi]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in topBeams\"\r\n          :key=\"`top-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </div>\r\n      <!-- BOTTOM -->\r\n      <div\r\n        class=\"absolute top-full [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:50%_0%] [transform-style:preserve-3d] [transform:rotateX(-90deg)] [width:100cqi]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in bottomBeams\"\r\n          :key=\"`bottom-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </div>\r\n      <!-- LEFT -->\r\n      <div\r\n        class=\"absolute left-0 top-0 [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:0%_0%] [transform-style:preserve-3d] [transform:rotate(90deg)_rotateX(-90deg)] [width:100cqh]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in leftBeams\"\r\n          :key=\"`left-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </div>\r\n      <!-- RIGHT -->\r\n      <div\r\n        class=\"absolute right-0 top-0 [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:100%_0%] [transform-style:preserve-3d] [transform:rotate(-90deg)_rotateX(-90deg)] [width:100cqh]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in rightBeams\"\r\n          :key=\"`right-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"relative\">\r\n      <slot />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { cn } from \"@/lib/utils\";\r\nimport Beam from \"./Beam.vue\";\r\nimport { computed } from \"vue\";\r\n\r\ninterface Props {\r\n  perspective?: number;\r\n  beamsPerSide?: number;\r\n  beamSize?: number;\r\n  beamDelayMax?: number;\r\n  beamDelayMin?: number;\r\n  beamDuration?: number;\r\n  gridColor?: string;\r\n  class?: string;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  perspective: 100,\r\n  beamsPerSide: 3,\r\n  beamSize: 5,\r\n  beamDelayMax: 3,\r\n  beamDelayMin: 0,\r\n  beamDuration: 3,\r\n  gridColor: \"hsl(var(--border))\",\r\n});\r\n\r\nconst beamDuration = computed(() => props.beamDuration);\r\nconst beamDelayMax = computed(() => props.beamDelayMax);\r\nconst beamDelayMin = computed(() => props.beamDelayMin);\r\n\r\nfunction generateBeams() {\r\n  const beams = [];\r\n  const cellsPerSide = Math.floor(100 / props.beamSize);\r\n  const step = cellsPerSide / props.beamsPerSide;\r\n\r\n  for (let i = 0; i < props.beamsPerSide; i++) {\r\n    const x = Math.floor(i * step);\r\n    const delay = Math.random() * (beamDelayMax.value - beamDelayMin.value) + beamDelayMin.value;\r\n    beams.push({ x, delay });\r\n  }\r\n  return beams;\r\n}\r\n\r\n// generateBeams\r\nconst topBeams = generateBeams();\r\nconst bottomBeams = generateBeams();\r\nconst leftBeams = generateBeams();\r\nconst rightBeams = generateBeams();\r\n</script>\r\n",
      "target": "web"
    },
    {
      "path": "WarpBackground.vue",
      "content": "<template>\r\n  <view :class=\"cn('relative rounded border md:p-20', props.class)\">\r\n    <view\r\n      :style=\"{\r\n        '--perspective': `${props.perspective}px`,\r\n        '--grid-color': props.gridColor,\r\n        '--beam-size': `${props.beamSize}%`,\r\n      }\"\r\n      class=\"pointer-events-none absolute left-0 top-0 size-full overflow-hidden [clip-path:inset(0)] [container-type:size] [perspective:var(--perspective)] [transform-style:preserve-3d]\"\r\n    >\r\n      <!-- TOP -->\r\n      <view\r\n        class=\"absolute [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:50%_0%] [transform-style:preserve-3d] [transform:rotateX(-90deg)] [width:100cqi]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in topBeams\"\r\n          :key=\"`top-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </view>\r\n      <!-- BOTTOM -->\r\n      <view\r\n        class=\"absolute top-full [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:50%_0%] [transform-style:preserve-3d] [transform:rotateX(-90deg)] [width:100cqi]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in bottomBeams\"\r\n          :key=\"`bottom-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </view>\r\n      <!-- LEFT -->\r\n      <view\r\n        class=\"absolute left-0 top-0 [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:0%_0%] [transform-style:preserve-3d] [transform:rotate(90deg)_rotateX(-90deg)] [width:100cqh]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in leftBeams\"\r\n          :key=\"`left-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </view>\r\n      <!-- RIGHT -->\r\n      <view\r\n        class=\"absolute right-0 top-0 [background-size:var(--beam-size)_var(--beam-size)] [background:linear-gradient(var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_-0.5px_/var(--beam-size)_var(--beam-size),linear-gradient(90deg,_var(--grid-color)_0_1px,_transparent_1px_var(--beam-size))_50%_50%_/var(--beam-size)_var(--beam-size)] [container-type:inline-size] [height:100cqmax] [transform-origin:100%_0%] [transform-style:preserve-3d] [transform:rotate(-90deg)_rotateX(-90deg)] [width:100cqh]\"\r\n      >\r\n        <Beam\r\n          v-for=\"(beam, index) in rightBeams\"\r\n          :key=\"`right-${index}`\"\r\n          :width=\"`${props.beamSize}%`\"\r\n          :x=\"`${beam.x * props.beamSize}%`\"\r\n          :delay=\"beam.delay\"\r\n          :duration=\"beamDuration\"\r\n        />\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"relative\">\r\n      <slot />\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { cn } from \"@/lib/utils\";\r\nimport Beam from \"./Beam.vue\";\r\nimport { computed } from \"vue\";\r\n\r\ninterface Props {\r\n  perspective?: number;\r\n  beamsPerSide?: number;\r\n  beamSize?: number;\r\n  beamDelayMax?: number;\r\n  beamDelayMin?: number;\r\n  beamDuration?: number;\r\n  gridColor?: string;\r\n  class?: string;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  perspective: 100,\r\n  beamsPerSide: 3,\r\n  beamSize: 5,\r\n  beamDelayMax: 3,\r\n  beamDelayMin: 0,\r\n  beamDuration: 3,\r\n  gridColor: \"hsl(var(--border))\",\r\n});\r\n\r\nconst beamDuration = computed(() => props.beamDuration);\r\nconst beamDelayMax = computed(() => props.beamDelayMax);\r\nconst beamDelayMin = computed(() => props.beamDelayMin);\r\n\r\nfunction generateBeams() {\r\n  const beams = [];\r\n  const cellsPerSide = Math.floor(100 / props.beamSize);\r\n  const step = cellsPerSide / props.beamsPerSide;\r\n\r\n  for (let i = 0; i < props.beamsPerSide; i++) {\r\n    const x = Math.floor(i * step);\r\n    const delay = Math.random() * (beamDelayMax.value - beamDelayMin.value) + beamDelayMin.value;\r\n    beams.push({ x, delay });\r\n  }\r\n  return beams;\r\n}\r\n\r\n// generateBeams\r\nconst topBeams = generateBeams();\r\nconst bottomBeams = generateBeams();\r\nconst leftBeams = generateBeams();\r\nconst rightBeams = generateBeams();\r\n</script>\r\n",
      "target": "uniapp"
    }
  ],
  "fileCount": 5,
  "contentHash": "55cfc65aa5a2de685ba14d27483724d8a5ef52fa"
}
