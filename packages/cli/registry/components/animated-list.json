{
  "name": "animated-list",
  "dependencies": [
    "motion-v"
  ],
  "files": [
    {
      "path": "AnimatedList.vue",
      "content": "<template>\r\n  <div :class=\"cn('flex flex-col items-center gap-4', $props.class)\">\r\n    <transition-group\r\n      name=\"list\"\r\n      tag=\"div\"\r\n      class=\"flex flex-col-reverse items-center gap-3\"\r\n      move-class=\"move\"\r\n    >\r\n      <!-- Only render the items up to the current index -->\r\n      <Motion\r\n        v-for=\"data in itemsToShow\"\r\n        :key=\"data.id\"\r\n        as=\"div\"\r\n        :initial=\"{ scale: 0, opacity: 0 }\"\r\n        :animate=\"{\r\n          scale: 1,\r\n          opacity: 1,\r\n          y: 0,\r\n        }\"\r\n        :exit=\"{\r\n          scale: 0,\r\n          opacity: 0,\r\n          y: 0,\r\n        }\"\r\n        :transition=\"{\r\n          type: 'spring',\r\n          stiffness: 350,\r\n          damping: 40,\r\n        }\"\r\n        :class=\"cn('mx-auto w-full')\"\r\n      >\r\n        <component :is=\"data.node\" />\r\n      </Motion>\r\n    </transition-group>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { Motion } from \"motion-v\";\r\nimport { computed, onMounted, ref, useSlots } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface Props {\r\n  class?: string;\r\n  delay?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  delay: 1000,\r\n});\r\n\r\nconst slots = useSlots();\r\nconst displayedItems = ref<{ node: unknown; id: string }[]>([]);\r\nconst nextIndex = ref(0);\r\n\r\nonMounted(startLoop);\r\n\r\nasync function startLoop() {\r\n  const notifications = slots.default ? (slots.default()[0].children ?? []) : [];\r\n  if (!notifications.length) return;\r\n\r\n  while (displayedItems.value.length < notifications.length) {\r\n    displayedItems.value.push({\r\n      node: notifications[nextIndex.value],\r\n      id: `${nextIndex.value}-${Date.now()}`,\r\n    });\r\n    nextIndex.value = (nextIndex.value + 1) % notifications.length;\r\n    await wait(props.delay);\r\n  }\r\n\r\n  while (true) {\r\n    displayedItems.value.shift();\r\n    displayedItems.value.push({\r\n      node: notifications[nextIndex.value],\r\n      id: `${nextIndex.value}-${Date.now()}`,\r\n    });\r\n    nextIndex.value = (nextIndex.value + 1) % notifications.length;\r\n    await wait(props.delay);\r\n  }\r\n}\r\n\r\nconst itemsToShow = computed(() => displayedItems.value);\r\n\r\nasync function wait(ms: number) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.move {\r\n  transition: transform 0.4s ease-out;\r\n}\r\n</style>\r\n",
      "target": "web"
    },
    {
      "path": "AnimatedList.vue",
      "content": "<template>\r\n  <view :class=\"cn('flex flex-col items-center gap-4', $props.class)\">\r\n    <transition-group\r\n      name=\"list\"\r\n      tag=\"div\"\r\n      class=\"flex flex-col-reverse items-center gap-3\"\r\n      move-class=\"move\"\r\n    >\r\n      <!-- Only render the items up to the current index -->\r\n      <Motion\r\n        v-for=\"data in itemsToShow\"\r\n        :key=\"data.id\"\r\n        as=\"div\"\r\n        :initial=\"{ scale: 0, opacity: 0 }\"\r\n        :animate=\"{\r\n          scale: 1,\r\n          opacity: 1,\r\n          y: 0,\r\n        }\"\r\n        :exit=\"{\r\n          scale: 0,\r\n          opacity: 0,\r\n          y: 0,\r\n        }\"\r\n        :transition=\"{\r\n          type: 'spring',\r\n          stiffness: 350,\r\n          damping: 40,\r\n        }\"\r\n        :class=\"cn('mx-auto w-full')\"\r\n      >\r\n        <component :is=\"data.node\" />\r\n      </Motion>\r\n    </transition-group>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { Motion } from \"motion-v\";\r\nimport { computed, onMounted, ref, useSlots } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface Props {\r\n  class?: string;\r\n  delay?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  delay: 1000,\r\n});\r\n\r\nconst slots = useSlots();\r\nconst displayedItems = ref<{ node: unknown; id: string }[]>([]);\r\nconst nextIndex = ref(0);\r\n\r\nonMounted(startLoop);\r\n\r\nasync function startLoop() {\r\n  const notifications = slots.default ? (slots.default()[0].children ?? []) : [];\r\n  if (!notifications.length) return;\r\n\r\n  while (displayedItems.value.length < notifications.length) {\r\n    displayedItems.value.push({\r\n      node: notifications[nextIndex.value],\r\n      id: `${nextIndex.value}-${Date.now()}`,\r\n    });\r\n    nextIndex.value = (nextIndex.value + 1) % notifications.length;\r\n    await wait(props.delay);\r\n  }\r\n\r\n  while (true) {\r\n    displayedItems.value.shift();\r\n    displayedItems.value.push({\r\n      node: notifications[nextIndex.value],\r\n      id: `${nextIndex.value}-${Date.now()}`,\r\n    });\r\n    nextIndex.value = (nextIndex.value + 1) % notifications.length;\r\n    await wait(props.delay);\r\n  }\r\n}\r\n\r\nconst itemsToShow = computed(() => displayedItems.value);\r\n\r\nasync function wait(ms: number) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.move {\r\n  transition: transform 0.4s ease-out;\r\n}\r\n</style>\r\n",
      "target": "uniapp"
    },
    {
      "path": "index.ts",
      "content": "export { default as AnimatedList } from \"./AnimatedList.vue\";\r\nexport { default as Notification } from \"./Notification.vue\";\r\n"
    },
    {
      "path": "Notification.vue",
      "content": "<template>\r\n  <div\r\n    :class=\"\r\n      cn(\r\n        'relative mx-auto min-h-fit w-full max-w-[400px] cursor-pointer overflow-hidden rounded-2xl p-4',\r\n        // animation styles\r\n        'transition-all duration-200 ease-in-out hover:scale-[103%]',\r\n        // light styles\r\n        'bg-white [box-shadow:0_0_0_1px_rgba(0,0,0,.03),0_2px_4px_rgba(0,0,0,.05),0_12px_24px_rgba(0,0,0,.05)]',\r\n        // dark styles\r\n        'transform-gpu dark:bg-transparent dark:backdrop-blur-md dark:[border:1px_solid_rgba(255,255,255,.1)] dark:[box-shadow:0_-20px_80px_-20px_#ffffff1f_inset]',\r\n      )\r\n    \"\r\n  >\r\n    <div class=\"flex flex-row items-center gap-3\">\r\n      <div\r\n        class=\"flex size-10 items-center justify-center rounded-2xl\"\r\n        :style=\"`background-color: ${color}`\"\r\n      >\r\n        <span class=\"text-lg\">{{ icon }}</span>\r\n      </div>\r\n      <div class=\"flex flex-col overflow-hidden\">\r\n        <div class=\"flex flex-row items-center whitespace-pre text-lg font-medium dark:text-white\">\r\n          <span class=\"text-sm sm:text-lg\">{{ name }}</span>\r\n          <span class=\"mx-1\">·</span>\r\n          <span class=\"text-xs text-gray-500\">{{ time }}</span>\r\n        </div>\r\n        <p class=\"text-sm font-normal dark:text-white/60\">{{ description }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype NotificationProps = {\r\n  name?: string;\r\n  description?: string;\r\n  time?: string;\r\n  icon?: string;\r\n  color?: string;\r\n};\r\n\r\nwithDefaults(defineProps<NotificationProps>(), {\r\n  name: \"\",\r\n  description: \"\",\r\n  time: \"\",\r\n  icon: \"\",\r\n  color: \"\",\r\n});\r\n</script>\r\n",
      "target": "web"
    },
    {
      "path": "Notification.vue",
      "content": "<template>\r\n  <view\r\n    :class=\"\r\n      cn(\r\n        'relative mx-auto min-h-fit w-full max-w-[400px] cursor-pointer overflow-hidden rounded-2xl p-4',\r\n        // animation styles\r\n        'transition-all duration-200 ease-in-out hover:scale-[103%]',\r\n        // light styles\r\n        'bg-white [box-shadow:0_0_0_1px_rgba(0,0,0,.03),0_2px_4px_rgba(0,0,0,.05),0_12px_24px_rgba(0,0,0,.05)]',\r\n        // dark styles\r\n        'transform-gpu dark:bg-transparent dark:backdrop-blur-md dark:[border:1px_solid_rgba(255,255,255,.1)] dark:[box-shadow:0_-20px_80px_-20px_#ffffff1f_inset]',\r\n      )\r\n    \"\r\n  >\r\n    <view class=\"flex flex-row items-center gap-3\">\r\n      <view\r\n        class=\"flex size-10 items-center justify-center rounded-2xl\"\r\n        :style=\"`background-color: ${color}`\"\r\n      >\r\n        <text class=\"text-lg\">{{ icon }}</text>\r\n      </view>\r\n      <view class=\"flex flex-col overflow-hidden\">\r\n        <view class=\"flex flex-row items-center whitespace-pre text-lg font-medium dark:text-white\">\r\n          <text class=\"text-sm sm:text-lg\">{{ name }}</text>\r\n          <text class=\"mx-1\">·</text>\r\n          <text class=\"text-xs text-gray-500\">{{ time }}</text>\r\n        </view>\r\n        <p class=\"text-sm font-normal dark:text-white/60\">{{ description }}</p>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype NotificationProps = {\r\n  name?: string;\r\n  description?: string;\r\n  time?: string;\r\n  icon?: string;\r\n  color?: string;\r\n};\r\n\r\nwithDefaults(defineProps<NotificationProps>(), {\r\n  name: \"\",\r\n  description: \"\",\r\n  time: \"\",\r\n  icon: \"\",\r\n  color: \"\",\r\n});\r\n</script>\r\n",
      "target": "uniapp"
    }
  ],
  "fileCount": 5,
  "contentHash": "c975c424976c433f3a094df403a448ec23275bc9"
}
