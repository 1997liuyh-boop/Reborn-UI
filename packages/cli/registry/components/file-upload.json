{
  "name": "file-upload",
  "dependencies": [
    "motion-v"
  ],
  "files": [
    {
      "path": "FileUpload.vue",
      "content": "<template>\r\n  <ClientOnly>\r\n    <div\r\n      :class=\"cn('w-full', $props.class)\"\r\n      @dragover.prevent=\"handleEnter\"\r\n      @dragleave=\"handleLeave\"\r\n      @drop.prevent=\"handleDrop\"\r\n      @mouseover=\"handleEnter\"\r\n      @mouseleave=\"handleLeave\"\r\n    >\r\n      <div\r\n        class=\"group/file relative block w-full cursor-pointer overflow-hidden rounded-lg p-10\"\r\n        @click=\"handleClick\"\r\n      >\r\n        <input\r\n          ref=\"fileInputRef\"\r\n          type=\"file\"\r\n          class=\"hidden\"\r\n          @change=\"onFileChange\"\r\n        />\r\n\r\n        <!-- Grid pattern -->\r\n        <div\r\n          class=\"pointer-events-none absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)]\"\r\n        >\r\n          <slot />\r\n        </div>\r\n\r\n        <!-- Content -->\r\n        <div class=\"flex flex-col items-center justify-center\">\r\n          <p\r\n            class=\"relative z-20 font-sans text-base font-bold text-neutral-700 dark:text-neutral-300\"\r\n          >\r\n            Upload file\r\n          </p>\r\n          <p\r\n            class=\"relative z-20 mt-2 font-sans text-base font-normal text-neutral-400 dark:text-neutral-400\"\r\n          >\r\n            Drag or drop your files here or click to upload\r\n          </p>\r\n\r\n          <div class=\"relative mx-auto mt-10 w-full max-w-xl space-y-4\">\r\n            <Motion\r\n              v-for=\"(file, idx) in files\"\r\n              :key=\"`file-${idx}`\"\r\n              :initial=\"{ opacity: 0, scaleX: 0 }\"\r\n              :animate=\"{ opacity: 1, scaleX: 1 }\"\r\n              class=\"relative z-40 mx-auto flex w-full flex-col items-start justify-start overflow-hidden rounded-md bg-white p-4 shadow-sm md:h-24 dark:bg-neutral-900\"\r\n            >\r\n              <div class=\"flex w-full items-center justify-between gap-4\">\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                  class=\"max-w-xs truncate text-base text-neutral-700 dark:text-neutral-300\"\r\n                >\r\n                  {{ file.name }}\r\n                </Motion>\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                  class=\"w-fit shrink-0 rounded-lg px-2 py-1 text-sm text-neutral-600 shadow-input dark:bg-neutral-800 dark:text-white\"\r\n                >\r\n                  {{ (file.size / (1024 * 1024)).toFixed(2) }} MB\r\n                </Motion>\r\n              </div>\r\n\r\n              <div\r\n                class=\"mt-2 flex w-full flex-col items-start justify-between text-sm text-neutral-600 md:flex-row md:items-center dark:text-neutral-400\"\r\n              >\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                  class=\"rounded-md bg-gray-100 px-1.5 py-1 text-sm dark:bg-neutral-800\"\r\n                >\r\n                  {{ file.type || \"unknown type\" }}\r\n                </Motion>\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                >\r\n                  modified {{ new Date(file.lastModified).toLocaleDateString() }}\r\n                </Motion>\r\n              </div>\r\n            </Motion>\r\n\r\n            <template v-if=\"!files.length\">\r\n              <Motion\r\n                as=\"div\"\r\n                class=\"relative z-40 mx-auto mt-4 flex h-32 w-full max-w-32 items-center justify-center rounded-md bg-white shadow-[0px_10px_50px_rgba(0,0,0,0.1)] group-hover/file:shadow-2xl dark:bg-neutral-900\"\r\n                :initial=\"{\r\n                  x: 0,\r\n                  y: 0,\r\n                  opacity: 1,\r\n                }\"\r\n                :transition=\"{\r\n                  type: 'spring',\r\n                  stiffness: 300,\r\n                  damping: 20,\r\n                }\"\r\n                :animate=\"\r\n                  isActive\r\n                    ? {\r\n                        x: 20,\r\n                        y: -20,\r\n                        opacity: 0.9,\r\n                      }\r\n                    : {}\r\n                \"\r\n              >\r\n                <Icon\r\n                  name=\"heroicons:arrow-up-tray-20-solid\"\r\n                  class=\"text-neutral-600 dark:text-neutral-400\"\r\n                  size=\"20\"\r\n                />\r\n              </Motion>\r\n\r\n              <div\r\n                class=\"absolute inset-0 z-30 mx-auto mt-4 flex h-32 w-full max-w-32 items-center justify-center rounded-md border border-dashed border-sky-400 bg-transparent transition-opacity\"\r\n                :class=\"{ 'opacity-100': isActive, 'opacity-0': !isActive }\"\r\n              ></div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ClientOnly>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type { HTMLAttributes } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Motion } from \"motion-v\";\r\nimport { ref } from \"vue\";\r\n\r\ninterface FileUploadProps {\r\n  class?: HTMLAttributes[\"class\"];\r\n}\r\n\r\ndefineProps<FileUploadProps>();\r\n\r\nconst emit = defineEmits<{\r\n  (e: \"onChange\", files: File[]): void;\r\n}>();\r\n\r\nconst fileInputRef = ref<HTMLInputElement | null>(null);\r\nconst files = ref<File[]>([]);\r\nconst isActive = ref<boolean>(false);\r\n\r\nfunction handleFileChange(newFiles: File[]) {\r\n  files.value = [...files.value, ...newFiles];\r\n  emit(\"onChange\", files.value);\r\n}\r\n\r\nfunction onFileChange(e: Event) {\r\n  const input = e.target as HTMLInputElement;\r\n  if (!input.files) return;\r\n  handleFileChange(Array.from(input.files));\r\n}\r\n\r\nfunction handleClick() {\r\n  fileInputRef.value?.click();\r\n}\r\n\r\nfunction handleEnter() {\r\n  isActive.value = true;\r\n}\r\nfunction handleLeave() {\r\n  isActive.value = false;\r\n}\r\nfunction handleDrop(e: DragEvent) {\r\n  isActive.value = false;\r\n  const droppedFiles = e.dataTransfer?.files ? Array.from(e.dataTransfer.files) : [];\r\n  if (droppedFiles.length) handleFileChange(droppedFiles);\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.group-hover\\/file\\:shadow-2xl:hover {\r\n  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n.transition-opacity {\r\n  transition: opacity 0.3s ease;\r\n}\r\n</style>\r\n",
      "target": "web"
    },
    {
      "path": "FileUpload.vue",
      "content": "<template>\r\n  <ClientOnly>\r\n    <view\r\n      :class=\"cn('w-full', $props.class)\"\r\n      @dragover.prevent=\"handleEnter\"\r\n      @dragleave=\"handleLeave\"\r\n      @drop.prevent=\"handleDrop\"\r\n      @mouseover=\"handleEnter\"\r\n      @mouseleave=\"handleLeave\"\r\n    >\r\n      <view\r\n        class=\"group/file relative block w-full cursor-pointer overflow-hidden rounded-lg p-10\"\r\n        @click=\"handleClick\"\r\n      >\r\n        <input\r\n          ref=\"fileInputRef\"\r\n          type=\"file\"\r\n          class=\"hidden\"\r\n          @change=\"onFileChange\"\r\n        />\r\n\r\n        <!-- Grid pattern -->\r\n        <view\r\n          class=\"pointer-events-none absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)]\"\r\n        >\r\n          <slot />\r\n        </view>\r\n\r\n        <!-- Content -->\r\n        <view class=\"flex flex-col items-center justify-center\">\r\n          <p\r\n            class=\"relative z-20 font-sans text-base font-bold text-neutral-700 dark:text-neutral-300\"\r\n          >\r\n            Upload file\r\n          </p>\r\n          <p\r\n            class=\"relative z-20 mt-2 font-sans text-base font-normal text-neutral-400 dark:text-neutral-400\"\r\n          >\r\n            Drag or drop your files here or click to upload\r\n          </p>\r\n\r\n          <view class=\"relative mx-auto mt-10 w-full max-w-xl space-y-4\">\r\n            <Motion\r\n              v-for=\"(file, idx) in files\"\r\n              :key=\"`file-${idx}`\"\r\n              :initial=\"{ opacity: 0, scaleX: 0 }\"\r\n              :animate=\"{ opacity: 1, scaleX: 1 }\"\r\n              class=\"relative z-40 mx-auto flex w-full flex-col items-start justify-start overflow-hidden rounded-md bg-white p-4 shadow-sm md:h-24 dark:bg-neutral-900\"\r\n            >\r\n              <view class=\"flex w-full items-center justify-between gap-4\">\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                  class=\"max-w-xs truncate text-base text-neutral-700 dark:text-neutral-300\"\r\n                >\r\n                  {{ file.name }}\r\n                </Motion>\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                  class=\"w-fit shrink-0 rounded-lg px-2 py-1 text-sm text-neutral-600 shadow-input dark:bg-neutral-800 dark:text-white\"\r\n                >\r\n                  {{ (file.size / (1024 * 1024)).toFixed(2) }} MB\r\n                </Motion>\r\n              </view>\r\n\r\n              <view\r\n                class=\"mt-2 flex w-full flex-col items-start justify-between text-sm text-neutral-600 md:flex-row md:items-center dark:text-neutral-400\"\r\n              >\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                  class=\"rounded-md bg-gray-100 px-1.5 py-1 text-sm dark:bg-neutral-800\"\r\n                >\r\n                  {{ file.type || \"unknown type\" }}\r\n                </Motion>\r\n                <Motion\r\n                  as=\"p\"\r\n                  :initial=\"{ opacity: 0 }\"\r\n                  :animate=\"{ opacity: 1 }\"\r\n                >\r\n                  modified {{ new Date(file.lastModified).toLocaleDateString() }}\r\n                </Motion>\r\n              </view>\r\n            </Motion>\r\n\r\n            <template v-if=\"!files.length\">\r\n              <Motion\r\n                as=\"div\"\r\n                class=\"relative z-40 mx-auto mt-4 flex h-32 w-full max-w-32 items-center justify-center rounded-md bg-white shadow-[0px_10px_50px_rgba(0,0,0,0.1)] group-hover/file:shadow-2xl dark:bg-neutral-900\"\r\n                :initial=\"{\r\n                  x: 0,\r\n                  y: 0,\r\n                  opacity: 1,\r\n                }\"\r\n                :transition=\"{\r\n                  type: 'spring',\r\n                  stiffness: 300,\r\n                  damping: 20,\r\n                }\"\r\n                :animate=\"\r\n                  isActive\r\n                    ? {\r\n                        x: 20,\r\n                        y: -20,\r\n                        opacity: 0.9,\r\n                      }\r\n                    : {}\r\n                \"\r\n              >\r\n                <Icon\r\n                  name=\"heroicons:arrow-up-tray-20-solid\"\r\n                  class=\"text-neutral-600 dark:text-neutral-400\"\r\n                  size=\"20\"\r\n                />\r\n              </Motion>\r\n\r\n              <view\r\n                class=\"absolute inset-0 z-30 mx-auto mt-4 flex h-32 w-full max-w-32 items-center justify-center rounded-md border border-dashed border-sky-400 bg-transparent transition-opacity\"\r\n                :class=\"{ 'opacity-100': isActive, 'opacity-0': !isActive }\"\r\n              ></view>\r\n            </template>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </ClientOnly>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type { HTMLAttributes } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Motion } from \"motion-v\";\r\nimport { ref } from \"vue\";\r\n\r\ninterface FileUploadProps {\r\n  class?: HTMLAttributes[\"class\"];\r\n}\r\n\r\ndefineProps<FileUploadProps>();\r\n\r\nconst emit = defineEmits<{\r\n  (e: \"onChange\", files: File[]): void;\r\n}>();\r\n\r\nconst fileInputRef = ref<HTMLInputElement | null>(null);\r\nconst files = ref<File[]>([]);\r\nconst isActive = ref<boolean>(false);\r\n\r\nfunction handleFileChange(newFiles: File[]) {\r\n  files.value = [...files.value, ...newFiles];\r\n  emit(\"onChange\", files.value);\r\n}\r\n\r\nfunction onFileChange(e: Event) {\r\n  const input = e.target as HTMLInputElement;\r\n  if (!input.files) return;\r\n  handleFileChange(Array.from(input.files));\r\n}\r\n\r\nfunction handleClick() {\r\n  fileInputRef.value?.click();\r\n}\r\n\r\nfunction handleEnter() {\r\n  isActive.value = true;\r\n}\r\nfunction handleLeave() {\r\n  isActive.value = false;\r\n}\r\nfunction handleDrop(e: DragEvent) {\r\n  isActive.value = false;\r\n  const droppedFiles = e.dataTransfer?.files ? Array.from(e.dataTransfer.files) : [];\r\n  if (droppedFiles.length) handleFileChange(droppedFiles);\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.group-hover\\/file\\:shadow-2xl:hover {\r\n  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n.transition-opacity {\r\n  transition: opacity 0.3s ease;\r\n}\r\n</style>\r\n",
      "target": "uniapp"
    },
    {
      "path": "FileUploadGrid.vue",
      "content": "<template>\r\n  <div\r\n    :class=\"\r\n      cn(\r\n        'flex shrink-0 scale-105 flex-wrap items-center justify-center gap-px bg-gray-100 dark:bg-neutral-900',\r\n        $props.class,\r\n      )\r\n    \"\r\n  >\r\n    <template v-for=\"row in ROWS\">\r\n      <template\r\n        v-for=\"col in COLUMNS\"\r\n        :key=\"`${row}-${col}`\"\r\n      >\r\n        <div\r\n          :class=\"\r\n            cn(\r\n              'w-10 h-10 flex flex-shrink-0 rounded-[2px]',\r\n              ((row - 1) * COLUMNS + (col - 1)) % 2 === 0\r\n                ? 'bg-gray-50 dark:bg-neutral-950'\r\n                : 'bg-gray-50 dark:bg-neutral-950 shadow-[0px_0px_1px_3px_rgba(255,255,255,1)_inset] dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]',\r\n            )\r\n          \"\r\n        />\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type { HTMLAttributes } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface FileUploadGridProps {\r\n  class?: HTMLAttributes[\"class\"];\r\n}\r\n\r\ndefineProps<FileUploadGridProps>();\r\n\r\nconst ROWS = 11;\r\nconst COLUMNS = 41;\r\n</script>\r\n",
      "target": "web"
    },
    {
      "path": "FileUploadGrid.vue",
      "content": "<template>\r\n  <view\r\n    :class=\"\r\n      cn(\r\n        'flex shrink-0 scale-105 flex-wrap items-center justify-center gap-px bg-gray-100 dark:bg-neutral-900',\r\n        $props.class,\r\n      )\r\n    \"\r\n  >\r\n    <template v-for=\"row in ROWS\">\r\n      <template\r\n        v-for=\"col in COLUMNS\"\r\n        :key=\"`${row}-${col}`\"\r\n      >\r\n        <view\r\n          :class=\"\r\n            cn(\r\n              'w-10 h-10 flex flex-shrink-0 rounded-[2px]',\r\n              ((row - 1) * COLUMNS + (col - 1)) % 2 === 0\r\n                ? 'bg-gray-50 dark:bg-neutral-950'\r\n                : 'bg-gray-50 dark:bg-neutral-950 shadow-[0px_0px_1px_3px_rgba(255,255,255,1)_inset] dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]',\r\n            )\r\n          \"\r\n        />\r\n      </template>\r\n    </template>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type { HTMLAttributes } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface FileUploadGridProps {\r\n  class?: HTMLAttributes[\"class\"];\r\n}\r\n\r\ndefineProps<FileUploadGridProps>();\r\n\r\nconst ROWS = 11;\r\nconst COLUMNS = 41;\r\n</script>\r\n",
      "target": "uniapp"
    },
    {
      "path": "index.ts",
      "content": "export { default as FileUpload } from \"./FileUpload.vue\";\r\nexport { default as FileUploadGrid } from \"./FileUploadGrid.vue\";\r\n"
    }
  ],
  "fileCount": 5,
  "contentHash": "9816b3cac3f5d3a5c4be8bf56515429e41d26867"
}
