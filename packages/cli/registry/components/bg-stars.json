{
  "name": "bg-stars",
  "dependencies": [
    "motion-v"
  ],
  "files": [
    {
      "path": "index.ts",
      "content": "export { default as StarsBackground } from \"./StarsBackground.vue\";\r\n"
    },
    {
      "path": "StarsBackground.vue",
      "content": "<template>\r\n  <div\r\n    :class=\"\r\n      cn(\r\n        'relative size-full overflow-hidden bg-[radial-gradient(ellipse_at_bottom,_#262626_0%,_#000_100%)]',\r\n        props.class,\r\n      )\r\n    \"\r\n    @mousemove=\"handleMouseMove\"\r\n  >\r\n    <motion.div :style=\"{ x: springX, y: springY }\">\r\n      <!-- Star Layer 1 -->\r\n      <motion.div\r\n        class=\"absolute top-0 left-0 w-full h-[2000px]\"\r\n        :animate=\"{ y: [0, -2000] }\"\r\n        :transition=\"starLayer1Transition\"\r\n      >\r\n        <div\r\n          class=\"absolute bg-transparent rounded-full\"\r\n          :style=\"{\r\n            width: '1px',\r\n            height: '1px',\r\n            boxShadow: boxShadow1,\r\n          }\"\r\n        />\r\n        <div\r\n          class=\"absolute bg-transparent rounded-full top-[2000px]\"\r\n          :style=\"{\r\n            width: '1px',\r\n            height: '1px',\r\n            boxShadow: boxShadow1,\r\n          }\"\r\n        />\r\n      </motion.div>\r\n\r\n      <!-- Star Layer 2 -->\r\n      <motion.div\r\n        class=\"absolute top-0 left-0 w-full h-[2000px]\"\r\n        :animate=\"{ y: [0, -2000] }\"\r\n        :transition=\"starLayer2Transition\"\r\n      >\r\n        <div\r\n          class=\"absolute bg-transparent rounded-full\"\r\n          :style=\"{\r\n            width: '2px',\r\n            height: '2px',\r\n            boxShadow: boxShadow2,\r\n          }\"\r\n        />\r\n        <div\r\n          class=\"absolute bg-transparent rounded-full top-[2000px]\"\r\n          :style=\"{\r\n            width: '2px',\r\n            height: '2px',\r\n            boxShadow: boxShadow2,\r\n          }\"\r\n        />\r\n      </motion.div>\r\n\r\n      <!-- Star Layer 3 -->\r\n      <motion.div\r\n        class=\"absolute top-0 left-0 w-full h-[2000px]\"\r\n        :animate=\"{ y: [0, -2000] }\"\r\n        :transition=\"starLayer3Transition\"\r\n      >\r\n        <div\r\n          class=\"absolute bg-transparent rounded-full\"\r\n          :style=\"{\r\n            width: '3px',\r\n            height: '3px',\r\n            boxShadow: boxShadow3,\r\n          }\"\r\n        />\r\n        <div\r\n          class=\"absolute bg-transparent rounded-full top-[2000px]\"\r\n          :style=\"{\r\n            width: '3px',\r\n            height: '3px',\r\n            boxShadow: boxShadow3,\r\n          }\"\r\n        />\r\n      </motion.div>\r\n    </motion.div>\r\n\r\n    <!-- Slot for child content -->\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { SpringOptions } from \"motion-v\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion, useMotionValue, useSpring } from \"motion-v\";\r\nimport { computed, onMounted, ref, watch } from \"vue\";\r\n\r\ninterface StarsBackgroundProps {\r\n  factor?: number;\r\n  speed?: number;\r\n  transition?: SpringOptions;\r\n  starColor?: string;\r\n  class?: string;\r\n}\r\n\r\nconst props = withDefaults(defineProps<StarsBackgroundProps>(), {\r\n  factor: 0.05,\r\n  speed: 50,\r\n  transition: () => ({ stiffness: 50, damping: 20 }),\r\n  starColor: \"#fff\",\r\n});\r\n\r\n// For slot content\r\ndefineSlots();\r\n\r\nfunction generateStars(count: number, starColor: string) {\r\n  const shadows: string[] = [];\r\n  for (let i = 0; i < count; i++) {\r\n    const x = Math.floor(Math.random() * 4000) - 2000;\r\n    const y = Math.floor(Math.random() * 4000) - 2000;\r\n    shadows.push(`${x}px ${y}px ${starColor}`);\r\n  }\r\n  return shadows.join(\", \");\r\n}\r\n\r\nconst offsetX = useMotionValue(1);\r\nconst offsetY = useMotionValue(1);\r\n\r\nconst springX = useSpring(offsetX, props.transition);\r\nconst springY = useSpring(offsetY, props.transition);\r\n\r\nfunction handleMouseMove(e: MouseEvent) {\r\n  const centerX = window.innerWidth / 2;\r\n  const centerY = window.innerHeight / 2;\r\n  const newOffsetX = -(e.clientX - centerX) * props.factor;\r\n  const newOffsetY = -(e.clientY - centerY) * props.factor;\r\n  offsetX.set(newOffsetX);\r\n  offsetY.set(newOffsetY);\r\n}\r\n\r\nconst boxShadow1 = ref(\"\");\r\nconst boxShadow2 = ref(\"\");\r\nconst boxShadow3 = ref(\"\");\r\n\r\nonMounted(() => {\r\n  boxShadow1.value = generateStars(1000, props.starColor);\r\n  boxShadow2.value = generateStars(400, props.starColor);\r\n  boxShadow3.value = generateStars(200, props.starColor);\r\n});\r\n\r\n// Watch for starColor changes\r\nwatch(\r\n  () => props.starColor,\r\n  (newColor) => {\r\n    boxShadow1.value = generateStars(1000, newColor);\r\n    boxShadow2.value = generateStars(400, newColor);\r\n    boxShadow3.value = generateStars(200, newColor);\r\n  },\r\n);\r\n\r\nconst starLayer1Transition = computed(() => ({\r\n  repeat: Infinity,\r\n  duration: props.speed,\r\n  ease: \"linear\",\r\n}));\r\n\r\nconst starLayer2Transition = computed(() => ({\r\n  repeat: Infinity,\r\n  duration: props.speed * 2,\r\n  ease: \"linear\",\r\n}));\r\n\r\nconst starLayer3Transition = computed(() => ({\r\n  repeat: Infinity,\r\n  duration: props.speed * 3,\r\n  ease: \"linear\",\r\n}));\r\n</script>\r\n",
      "target": "web"
    },
    {
      "path": "StarsBackground.vue",
      "content": "<template>\r\n  <view\r\n    :class=\"\r\n      cn(\r\n        'relative size-full overflow-hidden bg-[radial-gradient(ellipse_at_bottom,_#262626_0%,_#000_100%)]',\r\n        props.class,\r\n      )\r\n    \"\r\n    @mousemove=\"handleMouseMove\"\r\n  >\r\n    <motion.div :style=\"{ x: springX, y: springY }\">\r\n      <!-- Star Layer 1 -->\r\n      <motion.div\r\n        class=\"absolute top-0 left-0 w-full h-[2000px]\"\r\n        :animate=\"{ y: [0, -2000] }\"\r\n        :transition=\"starLayer1Transition\"\r\n      >\r\n        <view\r\n          class=\"absolute bg-transparent rounded-full\"\r\n          :style=\"{\r\n            width: '1px',\r\n            height: '1px',\r\n            boxShadow: boxShadow1,\r\n          }\"\r\n        />\r\n        <view\r\n          class=\"absolute bg-transparent rounded-full top-[2000px]\"\r\n          :style=\"{\r\n            width: '1px',\r\n            height: '1px',\r\n            boxShadow: boxShadow1,\r\n          }\"\r\n        />\r\n      </motion.div>\r\n\r\n      <!-- Star Layer 2 -->\r\n      <motion.div\r\n        class=\"absolute top-0 left-0 w-full h-[2000px]\"\r\n        :animate=\"{ y: [0, -2000] }\"\r\n        :transition=\"starLayer2Transition\"\r\n      >\r\n        <view\r\n          class=\"absolute bg-transparent rounded-full\"\r\n          :style=\"{\r\n            width: '2px',\r\n            height: '2px',\r\n            boxShadow: boxShadow2,\r\n          }\"\r\n        />\r\n        <view\r\n          class=\"absolute bg-transparent rounded-full top-[2000px]\"\r\n          :style=\"{\r\n            width: '2px',\r\n            height: '2px',\r\n            boxShadow: boxShadow2,\r\n          }\"\r\n        />\r\n      </motion.div>\r\n\r\n      <!-- Star Layer 3 -->\r\n      <motion.div\r\n        class=\"absolute top-0 left-0 w-full h-[2000px]\"\r\n        :animate=\"{ y: [0, -2000] }\"\r\n        :transition=\"starLayer3Transition\"\r\n      >\r\n        <view\r\n          class=\"absolute bg-transparent rounded-full\"\r\n          :style=\"{\r\n            width: '3px',\r\n            height: '3px',\r\n            boxShadow: boxShadow3,\r\n          }\"\r\n        />\r\n        <view\r\n          class=\"absolute bg-transparent rounded-full top-[2000px]\"\r\n          :style=\"{\r\n            width: '3px',\r\n            height: '3px',\r\n            boxShadow: boxShadow3,\r\n          }\"\r\n        />\r\n      </motion.div>\r\n    </motion.div>\r\n\r\n    <!-- Slot for child content -->\r\n    <slot />\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { SpringOptions } from \"motion-v\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion, useMotionValue, useSpring } from \"motion-v\";\r\nimport { computed, onMounted, ref, watch } from \"vue\";\r\n\r\ninterface StarsBackgroundProps {\r\n  factor?: number;\r\n  speed?: number;\r\n  transition?: SpringOptions;\r\n  starColor?: string;\r\n  class?: string;\r\n}\r\n\r\nconst props = withDefaults(defineProps<StarsBackgroundProps>(), {\r\n  factor: 0.05,\r\n  speed: 50,\r\n  transition: () => ({ stiffness: 50, damping: 20 }),\r\n  starColor: \"#fff\",\r\n});\r\n\r\n// For slot content\r\ndefineSlots();\r\n\r\nfunction generateStars(count: number, starColor: string) {\r\n  const shadows: string[] = [];\r\n  for (let i = 0; i < count; i++) {\r\n    const x = Math.floor(Math.random() * 4000) - 2000;\r\n    const y = Math.floor(Math.random() * 4000) - 2000;\r\n    shadows.push(`${x}px ${y}px ${starColor}`);\r\n  }\r\n  return shadows.join(\", \");\r\n}\r\n\r\nconst offsetX = useMotionValue(1);\r\nconst offsetY = useMotionValue(1);\r\n\r\nconst springX = useSpring(offsetX, props.transition);\r\nconst springY = useSpring(offsetY, props.transition);\r\n\r\nfunction handleMouseMove(e: MouseEvent) {\r\n  const centerX = window.innerWidth / 2;\r\n  const centerY = window.innerHeight / 2;\r\n  const newOffsetX = -(e.clientX - centerX) * props.factor;\r\n  const newOffsetY = -(e.clientY - centerY) * props.factor;\r\n  offsetX.set(newOffsetX);\r\n  offsetY.set(newOffsetY);\r\n}\r\n\r\nconst boxShadow1 = ref(\"\");\r\nconst boxShadow2 = ref(\"\");\r\nconst boxShadow3 = ref(\"\");\r\n\r\nonMounted(() => {\r\n  boxShadow1.value = generateStars(1000, props.starColor);\r\n  boxShadow2.value = generateStars(400, props.starColor);\r\n  boxShadow3.value = generateStars(200, props.starColor);\r\n});\r\n\r\n// Watch for starColor changes\r\nwatch(\r\n  () => props.starColor,\r\n  (newColor) => {\r\n    boxShadow1.value = generateStars(1000, newColor);\r\n    boxShadow2.value = generateStars(400, newColor);\r\n    boxShadow3.value = generateStars(200, newColor);\r\n  },\r\n);\r\n\r\nconst starLayer1Transition = computed(() => ({\r\n  repeat: Infinity,\r\n  duration: props.speed,\r\n  ease: \"linear\",\r\n}));\r\n\r\nconst starLayer2Transition = computed(() => ({\r\n  repeat: Infinity,\r\n  duration: props.speed * 2,\r\n  ease: \"linear\",\r\n}));\r\n\r\nconst starLayer3Transition = computed(() => ({\r\n  repeat: Infinity,\r\n  duration: props.speed * 3,\r\n  ease: \"linear\",\r\n}));\r\n</script>\r\n",
      "target": "uniapp"
    }
  ],
  "fileCount": 3,
  "contentHash": "9c80a681db84b49982639a21e7130438df79ecab"
}
