{
  "name": "balance-slider",
  "dependencies": [],
  "files": [
    {
      "path": "BalanceSlider.vue",
      "content": "<template>\r\n  <div\r\n    class=\"slider-container relative mx-auto my-0 grid place-items-center overflow-hidden\"\r\n    :style=\"sliderStyles\"\r\n    @mouseenter=\"active = 1\"\r\n    @mouseleave=\"active = 0\"\r\n    @focusin=\"active = 1\"\r\n    @focusout=\"active = 0\"\r\n    @touchstart=\"active = 1\"\r\n    @touchend=\"active = 0\"\r\n  >\r\n    <input\r\n      id=\"track\"\r\n      v-model=\"value\"\r\n      type=\"range\"\r\n      min=\"0\"\r\n      max=\"100\"\r\n      class=\"size-full touch-none opacity-0 hover:cursor-grab focus-visible:outline-offset-4 focus-visible:outline-transparent active:cursor-grabbing\"\r\n    />\r\n    <div\r\n      aria-hidden=\"true\"\r\n      :class=\"\r\n        cn('slider-value-labels pointer-events-none absolute inset-x-0 top-0 z-[2] h-1/2 text-base')\r\n      \"\r\n      :style=\"sliderLabelStyles\"\r\n    ></div>\r\n    <div\r\n      class=\"slider-track pointer-events-none absolute bottom-0 w-full\"\r\n      :style=\"sliderTrackStyles\"\r\n    >\r\n      <div\r\n        class=\"slider-indicator absolute top-1/2 z-[2] h-3/4 w-1 -translate-x-1/2 -translate-y-1/2 rounded-sm\"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface Props {\r\n  initialValue?: number;\r\n  leftColor?: string;\r\n  rightColor?: string;\r\n  minShiftLimit?: number;\r\n  maxShiftLimit?: number;\r\n  leftContent?: string;\r\n  rightContent?: string;\r\n  indicatorColor?: string;\r\n  borderRadius?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  initialValue: 50,\r\n  minShiftLimit: 40,\r\n  maxShiftLimit: 68,\r\n  leftContent: \"LEFT\",\r\n  rightContent: \"RIGHT\",\r\n  leftColor: \"#e68a00\",\r\n  rightColor: \"#ffffff\",\r\n  indicatorColor: \"#FFFFFF\",\r\n  borderRadius: 8,\r\n});\r\n\r\nconst value = ref(props.initialValue);\r\nconst active = ref(0);\r\n\r\nconst shift = computed(() =>\r\n  value.value > props.minShiftLimit && value.value < props.maxShiftLimit ? 1 : 0,\r\n);\r\n\r\nconst sliderStyles = computed(() => ({\r\n  \"--value\": value.value,\r\n  \"--shift\": shift.value,\r\n  \"--active\": active.value,\r\n  \"--leftContent\": `\"${props.leftContent} \"`,\r\n  \"--rightContent\": `\" ${props.rightContent}\"`,\r\n  \"--indicatorColor\": indicatorColorHsl.value,\r\n}));\r\n\r\nconst sliderLabelStyles = computed(() => ({\r\n  \"--shift\": shift.value,\r\n}));\r\n\r\nconst sliderTrackStyles = computed(() => ({\r\n  \"--value\": value.value,\r\n  \"--shift\": shift.value,\r\n  \"--leftColor\": leftColorHsl.value,\r\n  \"--rightColor\": rightColorHsl.value,\r\n}));\r\n\r\nconst leftColorHsl = computed(() => {\r\n  const [h, s, l] = hexToHsl(props.leftColor);\r\n  const alpha = 0.4;\r\n  const lightness = 24 + (30 * (100 - value.value)) / 100;\r\n  return `hsl(${h} ${s}% ${lightness}% / ${alpha})`;\r\n});\r\n\r\nconst rightColorHsl = computed(() => {\r\n  const [h, s, l] = hexToHsl(props.rightColor);\r\n  const alpha = 0.1 + (0.4 * (100 - value.value)) / 100;\r\n  return `hsl(${h} ${s}% ${l}% / ${alpha})`;\r\n});\r\n\r\nconst indicatorColorHsl = computed(() => {\r\n  const [h, s, l] = hexToHsl(props.indicatorColor); // Base color as hex, here white (#ffffff)\r\n  const activeAlpha = active.value * 0.5 + 0.5; // Calculate alpha based on active state\r\n  return `hsl(${h} ${s}% ${l}% / ${activeAlpha})`;\r\n});\r\n\r\nconst borderRadiusInPx = computed(() => `${props.borderRadius}px`);\r\n\r\nfunction hexToHsl(hex: string): [number, number, number] {\r\n  // Remove \"#\" if present\r\n  hex = hex.replace(/^#/, \"\");\r\n\r\n  // Parse r, g, b values\r\n  let r = parseInt(hex.substring(0, 2), 16) / 255;\r\n  let g = parseInt(hex.substring(2, 4), 16) / 255;\r\n  let b = parseInt(hex.substring(4, 6), 16) / 255;\r\n\r\n  // Find min and max values of r, g, b\r\n  let max = Math.max(r, g, b),\r\n    min = Math.min(r, g, b);\r\n  let h = 0,\r\n    s = 0,\r\n    l = (max + min) / 2;\r\n\r\n  if (max != min) {\r\n    let d = max - min;\r\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n    switch (max) {\r\n      case r:\r\n        h = (g - b) / d + (g < b ? 6 : 0);\r\n        break;\r\n      case g:\r\n        h = (b - r) / d + 2;\r\n        break;\r\n      case b:\r\n        h = (r - g) / d + 4;\r\n        break;\r\n    }\r\n    h /= 6;\r\n  }\r\n\r\n  return [h * 360, s * 100, l * 100];\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.slider-container {\r\n  --speed: 0.65s;\r\n  --update: 0s;\r\n  --timing: linear(\r\n    0,\r\n    0.5007 7.21%,\r\n    0.7803 12.29%,\r\n    0.8883 14.93%,\r\n    0.9724 17.63%,\r\n    1.0343 20.44%,\r\n    1.0754 23.44%,\r\n    1.0898 25.22%,\r\n    1.0984 27.11%,\r\n    1.1014 29.15%,\r\n    1.0989 31.4%,\r\n    1.0854 35.23%,\r\n    1.0196 48.86%,\r\n    1.0043 54.06%,\r\n    0.9956 59.6%,\r\n    0.9925 68.11%,\r\n    1\r\n  );\r\n}\r\n\r\n.slider-value-labels {\r\n  transform: translateY(calc(var(--shift, 0) * 50%));\r\n  transition: transform var(--speed) var(--timing);\r\n  counter-reset: low var(--value) high calc(100 - var(--value));\r\n}\r\n\r\n.slider-value-labels::after,\r\n.slider-value-labels::before {\r\n  font-variant: tabular-nums;\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-weight: bold;\r\n  color: white;\r\n  font-family: monospace;\r\n}\r\n\r\n.slider-value-labels::before {\r\n  --range: calc((70 - (var(--value) / 100 * 10)) * 1%);\r\n  color: hsl(24 74% 54%);\r\n  content: var(--leftContent) counter(low) \"%\";\r\n  mask: linear-gradient(90deg, hsl(0 0% 100% / 0.6) var(--range), hsl(0 0% 100% / 1) var(--range));\r\n  left: 0.5rem;\r\n}\r\n\r\n.slider-value-labels::after {\r\n  --range: calc((50 - (var(--value) / 100 * 10)) * 1%);\r\n  content: counter(high) \"% \" var(--rightContent);\r\n  mask: linear-gradient(90deg, hsl(0 0% 100% / 1) var(--range), hsl(0 0% 100% / 0.5) var(--range));\r\n  right: 0.5rem;\r\n}\r\n\r\n.slider-track {\r\n  height: calc(50% + (var(--shift) * 50%));\r\n  transition: height var(--speed) var(--timing);\r\n}\r\n\r\n.slider-track::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: calc(var(--value, 0) * 1% - 0.5rem);\r\n  background: var(--leftColor);\r\n  border-radius: v-bind(borderRadiusInPx);\r\n  transition: width var(--update);\r\n}\r\n\r\n.slider-track::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: calc((100 - var(--value, 0)) * 1% - 0.5rem);\r\n  background: var(--rightColor);\r\n  border-radius: v-bind(borderRadiusInPx);\r\n  transition: width var(--update);\r\n}\r\n\r\n.slider-indicator {\r\n  background: var(--indicatorColor);\r\n  left: calc(var(--value, 0) * 1%);\r\n  transition: left var(--update);\r\n}\r\n\r\n/* Range input styles */\r\n[type=\"range\"]::-webkit-slider-thumb {\r\n  appearance: none;\r\n  height: 120px;\r\n  width: 40px;\r\n  margin-top: 0px;\r\n  opacity: 1;\r\n}\r\n\r\n[type=\"range\"]::-webkit-slider-runnable-track {\r\n  height: 120px;\r\n  background: hsl(10 80% 50% / 0.5);\r\n  margin-top: -60px;\r\n  box-shadow:\r\n    1px 1px 1px #000000,\r\n    0px 0px 1px #0d0d0d;\r\n}\r\n\r\n[type=\"range\"]::-moz-range-track {\r\n  height: 120px;\r\n  background: hsl(10 80% 50% / 0.5);\r\n  margin-top: -60px;\r\n  box-shadow:\r\n    1px 1px 1px #000000,\r\n    0px 0px 1px #0d0d0d;\r\n}\r\n</style>\r\n",
      "target": "web"
    },
    {
      "path": "BalanceSlider.vue",
      "content": "<template>\r\n  <view\r\n    class=\"slider-container relative mx-auto my-0 grid place-items-center overflow-hidden\"\r\n    :style=\"sliderStyles\"\r\n    @mouseenter=\"active = 1\"\r\n    @mouseleave=\"active = 0\"\r\n    @focusin=\"active = 1\"\r\n    @focusout=\"active = 0\"\r\n    @touchstart=\"active = 1\"\r\n    @touchend=\"active = 0\"\r\n  >\r\n    <input\r\n      id=\"track\"\r\n      v-model=\"value\"\r\n      type=\"range\"\r\n      min=\"0\"\r\n      max=\"100\"\r\n      class=\"size-full touch-none opacity-0 hover:cursor-grab focus-visible:outline-offset-4 focus-visible:outline-transparent active:cursor-grabbing\"\r\n    />\r\n    <view\r\n      aria-hidden=\"true\"\r\n      :class=\"\r\n        cn('slider-value-labels pointer-events-none absolute inset-x-0 top-0 z-[2] h-1/2 text-base')\r\n      \"\r\n      :style=\"sliderLabelStyles\"\r\n    ></view>\r\n    <view\r\n      class=\"slider-track pointer-events-none absolute bottom-0 w-full\"\r\n      :style=\"sliderTrackStyles\"\r\n    >\r\n      <view\r\n        class=\"slider-indicator absolute top-1/2 z-[2] h-3/4 w-1 -translate-x-1/2 -translate-y-1/2 rounded-sm\"\r\n      ></view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref } from \"vue\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface Props {\r\n  initialValue?: number;\r\n  leftColor?: string;\r\n  rightColor?: string;\r\n  minShiftLimit?: number;\r\n  maxShiftLimit?: number;\r\n  leftContent?: string;\r\n  rightContent?: string;\r\n  indicatorColor?: string;\r\n  borderRadius?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  initialValue: 50,\r\n  minShiftLimit: 40,\r\n  maxShiftLimit: 68,\r\n  leftContent: \"LEFT\",\r\n  rightContent: \"RIGHT\",\r\n  leftColor: \"#e68a00\",\r\n  rightColor: \"#ffffff\",\r\n  indicatorColor: \"#FFFFFF\",\r\n  borderRadius: 8,\r\n});\r\n\r\nconst value = ref(props.initialValue);\r\nconst active = ref(0);\r\n\r\nconst shift = computed(() =>\r\n  value.value > props.minShiftLimit && value.value < props.maxShiftLimit ? 1 : 0,\r\n);\r\n\r\nconst sliderStyles = computed(() => ({\r\n  \"--value\": value.value,\r\n  \"--shift\": shift.value,\r\n  \"--active\": active.value,\r\n  \"--leftContent\": `\"${props.leftContent} \"`,\r\n  \"--rightContent\": `\" ${props.rightContent}\"`,\r\n  \"--indicatorColor\": indicatorColorHsl.value,\r\n}));\r\n\r\nconst sliderLabelStyles = computed(() => ({\r\n  \"--shift\": shift.value,\r\n}));\r\n\r\nconst sliderTrackStyles = computed(() => ({\r\n  \"--value\": value.value,\r\n  \"--shift\": shift.value,\r\n  \"--leftColor\": leftColorHsl.value,\r\n  \"--rightColor\": rightColorHsl.value,\r\n}));\r\n\r\nconst leftColorHsl = computed(() => {\r\n  const [h, s, l] = hexToHsl(props.leftColor);\r\n  const alpha = 0.4;\r\n  const lightness = 24 + (30 * (100 - value.value)) / 100;\r\n  return `hsl(${h} ${s}% ${lightness}% / ${alpha})`;\r\n});\r\n\r\nconst rightColorHsl = computed(() => {\r\n  const [h, s, l] = hexToHsl(props.rightColor);\r\n  const alpha = 0.1 + (0.4 * (100 - value.value)) / 100;\r\n  return `hsl(${h} ${s}% ${l}% / ${alpha})`;\r\n});\r\n\r\nconst indicatorColorHsl = computed(() => {\r\n  const [h, s, l] = hexToHsl(props.indicatorColor); // Base color as hex, here white (#ffffff)\r\n  const activeAlpha = active.value * 0.5 + 0.5; // Calculate alpha based on active state\r\n  return `hsl(${h} ${s}% ${l}% / ${activeAlpha})`;\r\n});\r\n\r\nconst borderRadiusInPx = computed(() => `${props.borderRadius}px`);\r\n\r\nfunction hexToHsl(hex: string): [number, number, number] {\r\n  // Remove \"#\" if present\r\n  hex = hex.replace(/^#/, \"\");\r\n\r\n  // Parse r, g, b values\r\n  let r = parseInt(hex.substring(0, 2), 16) / 255;\r\n  let g = parseInt(hex.substring(2, 4), 16) / 255;\r\n  let b = parseInt(hex.substring(4, 6), 16) / 255;\r\n\r\n  // Find min and max values of r, g, b\r\n  let max = Math.max(r, g, b),\r\n    min = Math.min(r, g, b);\r\n  let h = 0,\r\n    s = 0,\r\n    l = (max + min) / 2;\r\n\r\n  if (max != min) {\r\n    let d = max - min;\r\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n    switch (max) {\r\n      case r:\r\n        h = (g - b) / d + (g < b ? 6 : 0);\r\n        break;\r\n      case g:\r\n        h = (b - r) / d + 2;\r\n        break;\r\n      case b:\r\n        h = (r - g) / d + 4;\r\n        break;\r\n    }\r\n    h /= 6;\r\n  }\r\n\r\n  return [h * 360, s * 100, l * 100];\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.slider-container {\r\n  --speed: 0.65s;\r\n  --update: 0s;\r\n  --timing: linear(\r\n    0,\r\n    0.5007 7.21%,\r\n    0.7803 12.29%,\r\n    0.8883 14.93%,\r\n    0.9724 17.63%,\r\n    1.0343 20.44%,\r\n    1.0754 23.44%,\r\n    1.0898 25.22%,\r\n    1.0984 27.11%,\r\n    1.1014 29.15%,\r\n    1.0989 31.4%,\r\n    1.0854 35.23%,\r\n    1.0196 48.86%,\r\n    1.0043 54.06%,\r\n    0.9956 59.6%,\r\n    0.9925 68.11%,\r\n    1\r\n  );\r\n}\r\n\r\n.slider-value-labels {\r\n  transform: translateY(calc(var(--shift, 0) * 50%));\r\n  transition: transform var(--speed) var(--timing);\r\n  counter-reset: low var(--value) high calc(100 - var(--value));\r\n}\r\n\r\n.slider-value-labels::after,\r\n.slider-value-labels::before {\r\n  font-variant: tabular-nums;\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-weight: bold;\r\n  color: white;\r\n  font-family: monospace;\r\n}\r\n\r\n.slider-value-labels::before {\r\n  --range: calc((70 - (var(--value) / 100 * 10)) * 1%);\r\n  color: hsl(24 74% 54%);\r\n  content: var(--leftContent) counter(low) \"%\";\r\n  mask: linear-gradient(90deg, hsl(0 0% 100% / 0.6) var(--range), hsl(0 0% 100% / 1) var(--range));\r\n  left: 0.5rem;\r\n}\r\n\r\n.slider-value-labels::after {\r\n  --range: calc((50 - (var(--value) / 100 * 10)) * 1%);\r\n  content: counter(high) \"% \" var(--rightContent);\r\n  mask: linear-gradient(90deg, hsl(0 0% 100% / 1) var(--range), hsl(0 0% 100% / 0.5) var(--range));\r\n  right: 0.5rem;\r\n}\r\n\r\n.slider-track {\r\n  height: calc(50% + (var(--shift) * 50%));\r\n  transition: height var(--speed) var(--timing);\r\n}\r\n\r\n.slider-track::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: calc(var(--value, 0) * 1% - 0.5rem);\r\n  background: var(--leftColor);\r\n  border-radius: v-bind(borderRadiusInPx);\r\n  transition: width var(--update);\r\n}\r\n\r\n.slider-track::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: calc((100 - var(--value, 0)) * 1% - 0.5rem);\r\n  background: var(--rightColor);\r\n  border-radius: v-bind(borderRadiusInPx);\r\n  transition: width var(--update);\r\n}\r\n\r\n.slider-indicator {\r\n  background: var(--indicatorColor);\r\n  left: calc(var(--value, 0) * 1%);\r\n  transition: left var(--update);\r\n}\r\n\r\n/* Range input styles */\r\n[type=\"range\"]::-webkit-slider-thumb {\r\n  appearance: none;\r\n  height: 120px;\r\n  width: 40px;\r\n  margin-top: 0px;\r\n  opacity: 1;\r\n}\r\n\r\n[type=\"range\"]::-webkit-slider-runnable-track {\r\n  height: 120px;\r\n  background: hsl(10 80% 50% / 0.5);\r\n  margin-top: -60px;\r\n  box-shadow:\r\n    1px 1px 1px #000000,\r\n    0px 0px 1px #0d0d0d;\r\n}\r\n\r\n[type=\"range\"]::-moz-range-track {\r\n  height: 120px;\r\n  background: hsl(10 80% 50% / 0.5);\r\n  margin-top: -60px;\r\n  box-shadow:\r\n    1px 1px 1px #000000,\r\n    0px 0px 1px #0d0d0d;\r\n}\r\n</style>\r\n",
      "target": "uniapp"
    },
    {
      "path": "index.ts",
      "content": "export { default as BalanceSlider } from \"./BalanceSlider.vue\";\r\n"
    }
  ],
  "fileCount": 3,
  "contentHash": "1e61fe1f31345f31c7d10edd6fef82a151527a68"
}
