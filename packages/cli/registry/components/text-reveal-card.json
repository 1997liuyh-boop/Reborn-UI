{
  "name": "text-reveal-card",
  "dependencies": [],
  "files": [
    {
      "path": "index.ts",
      "content": "export { default as TextRevealCard } from \"./TextRevealCard.vue\";\r\n"
    },
    {
      "path": "TextRevealCard.vue",
      "content": "<template>\r\n  <div\r\n    ref=\"cardRef\"\r\n    :class=\"[\r\n      'relative w-full max-w-[40rem] overflow-hidden rounded-lg border border-white/[0.08] bg-[#1d1c20] p-4 md:p-8 sm:p-6',\r\n      props.class,\r\n    ]\"\r\n    @mouseenter=\"mouseEnterHandler\"\r\n    @mouseleave=\"mouseLeaveHandler\"\r\n    @mousemove=\"mouseMoveHandler\"\r\n    @touchstart=\"mouseEnterHandler\"\r\n    @touchend=\"mouseLeaveHandler\"\r\n    @touchmove=\"touchMoveHandler\"\r\n  >\r\n    <slot name=\"header\"></slot>\r\n    <div class=\"relative flex h-40 items-center overflow-hidden\">\r\n      <div\r\n        :style=\"{\r\n          width: '100%',\r\n          opacity: widthPercentage > 0 ? 1 : 0,\r\n          clipPath: `inset(0 ${100 - widthPercentage}% 0 0)`,\r\n          transition: isMouseOver ? 'none' : 'all 0.4s ease-out',\r\n        }\"\r\n        class=\"absolute z-20 bg-[#1d1c20] will-change-transform\"\r\n      >\r\n        <slot name=\"text\" />\r\n      </div>\r\n\r\n      <div\r\n        :style=\"{\r\n          left: `${widthPercentage}%`,\r\n          transform: `rotate(${rotateDeg}deg)`,\r\n          opacity: widthPercentage > 0 ? 1 : 0,\r\n          transition: isMouseOver ? 'none' : 'all 0.4s ease-out',\r\n        }\"\r\n        class=\"absolute z-50 h-40 w-[8px] bg-gradient-to-b from-transparent via-neutral-800 to-transparent will-change-transform\"\r\n      ></div>\r\n\r\n      <div\r\n        class=\"overflow-hidden [mask-image:linear-gradient(to_bottom,transparent,white,transparent)]\"\r\n      >\r\n        <slot name=\"revealText\"></slot>\r\n\r\n        <TextRevealStars\r\n          :stars-count=\"starsCount\"\r\n          :class=\"starsClass\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport type { HTMLAttributes } from \"vue\";\r\n\r\ninterface Props {\r\n  class?: HTMLAttributes[\"class\"];\r\n  starsCount?: number;\r\n  starsClass?: HTMLAttributes[\"class\"];\r\n}\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  starsCount: 130,\r\n});\r\n\r\nconst cardRef = ref<HTMLElement | null>(null);\r\nconst widthPercentage = ref(0);\r\nconst left = ref(0);\r\nconst localWidth = ref(0);\r\nconst isMouseOver = ref(false);\r\n\r\nconst rotateDeg = computed(() => (widthPercentage.value - 50) * 0.1);\r\n\r\nonMounted(() => {\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect();\r\n    left.value = rect.left;\r\n    localWidth.value = rect.width;\r\n  }\r\n\r\n  window.addEventListener(\"resize\", updateMeasurements);\r\n});\r\n\r\nfunction updateMeasurements() {\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect();\r\n    left.value = rect.left;\r\n    localWidth.value = rect.width;\r\n  }\r\n}\r\n\r\nfunction mouseMoveHandler(event: MouseEvent) {\r\n  event.preventDefault();\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect(); // Get current position\r\n    const relativeX = event.clientX - rect.left;\r\n    widthPercentage.value = (relativeX / rect.width) * 100;\r\n  }\r\n}\r\n\r\nfunction mouseLeaveHandler() {\r\n  isMouseOver.value = false;\r\n  setTimeout(() => {\r\n    if (!isMouseOver.value) {\r\n      widthPercentage.value = 0;\r\n    }\r\n  }, 100);\r\n}\r\n\r\nfunction mouseEnterHandler() {\r\n  isMouseOver.value = true;\r\n}\r\n\r\nfunction touchMoveHandler(event: TouchEvent) {\r\n  event.preventDefault();\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect();\r\n    const relativeX = event.touches[0]!.clientX - rect.left;\r\n    widthPercentage.value = (relativeX / rect.width) * 100;\r\n  }\r\n}\r\n</script>\r\n",
      "target": "web"
    },
    {
      "path": "TextRevealCard.vue",
      "content": "<template>\r\n  <view\r\n    ref=\"cardRef\"\r\n    :class=\"[\r\n      'relative w-full max-w-[40rem] overflow-hidden rounded-lg border border-white/[0.08] bg-[#1d1c20] p-4 md:p-8 sm:p-6',\r\n      props.class,\r\n    ]\"\r\n    @mouseenter=\"mouseEnterHandler\"\r\n    @mouseleave=\"mouseLeaveHandler\"\r\n    @mousemove=\"mouseMoveHandler\"\r\n    @touchstart=\"mouseEnterHandler\"\r\n    @touchend=\"mouseLeaveHandler\"\r\n    @touchmove=\"touchMoveHandler\"\r\n  >\r\n    <slot name=\"header\"></slot>\r\n    <view class=\"relative flex h-40 items-center overflow-hidden\">\r\n      <view\r\n        :style=\"{\r\n          width: '100%',\r\n          opacity: widthPercentage > 0 ? 1 : 0,\r\n          clipPath: `inset(0 ${100 - widthPercentage}% 0 0)`,\r\n          transition: isMouseOver ? 'none' : 'all 0.4s ease-out',\r\n        }\"\r\n        class=\"absolute z-20 bg-[#1d1c20] will-change-transform\"\r\n      >\r\n        <slot name=\"text\" />\r\n      </view>\r\n\r\n      <view\r\n        :style=\"{\r\n          left: `${widthPercentage}%`,\r\n          transform: `rotate(${rotateDeg}deg)`,\r\n          opacity: widthPercentage > 0 ? 1 : 0,\r\n          transition: isMouseOver ? 'none' : 'all 0.4s ease-out',\r\n        }\"\r\n        class=\"absolute z-50 h-40 w-[8px] bg-gradient-to-b from-transparent via-neutral-800 to-transparent will-change-transform\"\r\n      ></view>\r\n\r\n      <view\r\n        class=\"overflow-hidden [mask-image:linear-gradient(to_bottom,transparent,white,transparent)]\"\r\n      >\r\n        <slot name=\"revealText\"></slot>\r\n\r\n        <TextRevealStars\r\n          :stars-count=\"starsCount\"\r\n          :class=\"starsClass\"\r\n        />\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport type { HTMLAttributes } from \"vue\";\r\n\r\ninterface Props {\r\n  class?: HTMLAttributes[\"class\"];\r\n  starsCount?: number;\r\n  starsClass?: HTMLAttributes[\"class\"];\r\n}\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  starsCount: 130,\r\n});\r\n\r\nconst cardRef = ref<HTMLElement | null>(null);\r\nconst widthPercentage = ref(0);\r\nconst left = ref(0);\r\nconst localWidth = ref(0);\r\nconst isMouseOver = ref(false);\r\n\r\nconst rotateDeg = computed(() => (widthPercentage.value - 50) * 0.1);\r\n\r\nonMounted(() => {\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect();\r\n    left.value = rect.left;\r\n    localWidth.value = rect.width;\r\n  }\r\n\r\n  window.addEventListener(\"resize\", updateMeasurements);\r\n});\r\n\r\nfunction updateMeasurements() {\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect();\r\n    left.value = rect.left;\r\n    localWidth.value = rect.width;\r\n  }\r\n}\r\n\r\nfunction mouseMoveHandler(event: MouseEvent) {\r\n  event.preventDefault();\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect(); // Get current position\r\n    const relativeX = event.clientX - rect.left;\r\n    widthPercentage.value = (relativeX / rect.width) * 100;\r\n  }\r\n}\r\n\r\nfunction mouseLeaveHandler() {\r\n  isMouseOver.value = false;\r\n  setTimeout(() => {\r\n    if (!isMouseOver.value) {\r\n      widthPercentage.value = 0;\r\n    }\r\n  }, 100);\r\n}\r\n\r\nfunction mouseEnterHandler() {\r\n  isMouseOver.value = true;\r\n}\r\n\r\nfunction touchMoveHandler(event: TouchEvent) {\r\n  event.preventDefault();\r\n  if (cardRef.value) {\r\n    const rect = cardRef.value.getBoundingClientRect();\r\n    const relativeX = event.touches[0]!.clientX - rect.left;\r\n    widthPercentage.value = (relativeX / rect.width) * 100;\r\n  }\r\n}\r\n</script>\r\n",
      "target": "uniapp"
    },
    {
      "path": "TextRevealStars.vue",
      "content": "<template>\r\n  <div class=\"absolute inset-0\">\r\n    <Motion\r\n      is=\"span\"\r\n      v-for=\"i in starsCount\"\r\n      :key=\"`star-${i}`\"\r\n      :initial=\"generatePosition()\"\r\n      :animate=\"generateEnterAnimation()\"\r\n      :transition=\"{\r\n        duration: randomDuration,\r\n        repeat: Infinity,\r\n        ease: 'linear',\r\n      }\"\r\n      :class=\"cn('inline-block absolute w-0.5 h-0.5 bg-white rounded-full z-[1]', props.class)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { HTMLAttributes } from \"vue\";\r\n\r\ninterface Props {\r\n  starsCount?: number;\r\n  class?: HTMLAttributes[\"class\"];\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  starsCount: 130,\r\n});\r\n\r\nfunction randomMove() {\r\n  return Math.random() * 4 - 2;\r\n}\r\n\r\nfunction randomOpacity() {\r\n  return Math.random();\r\n}\r\n\r\nfunction random() {\r\n  return Math.random();\r\n}\r\n\r\nfunction generatePosition() {\r\n  return {\r\n    top: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n    left: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n  };\r\n}\r\n\r\nfunction generateEnterAnimation() {\r\n  return {\r\n    top: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n    left: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n    opacity: randomOpacity(),\r\n    scale: [1, 1.2, 0],\r\n  };\r\n}\r\n\r\nconst randomDuration = random() * 10 + 20;\r\n</script>\r\n",
      "target": "web"
    },
    {
      "path": "TextRevealStars.vue",
      "content": "<template>\r\n  <view class=\"absolute inset-0\">\r\n    <Motion\r\n      is=\"span\"\r\n      v-for=\"i in starsCount\"\r\n      :key=\"`star-${i}`\"\r\n      :initial=\"generatePosition()\"\r\n      :animate=\"generateEnterAnimation()\"\r\n      :transition=\"{\r\n        duration: randomDuration,\r\n        repeat: Infinity,\r\n        ease: 'linear',\r\n      }\"\r\n      :class=\"cn('inline-block absolute w-0.5 h-0.5 bg-white rounded-full z-[1]', props.class)\"\r\n    />\r\n  </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { HTMLAttributes } from \"vue\";\r\n\r\ninterface Props {\r\n  starsCount?: number;\r\n  class?: HTMLAttributes[\"class\"];\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  starsCount: 130,\r\n});\r\n\r\nfunction randomMove() {\r\n  return Math.random() * 4 - 2;\r\n}\r\n\r\nfunction randomOpacity() {\r\n  return Math.random();\r\n}\r\n\r\nfunction random() {\r\n  return Math.random();\r\n}\r\n\r\nfunction generatePosition() {\r\n  return {\r\n    top: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n    left: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n  };\r\n}\r\n\r\nfunction generateEnterAnimation() {\r\n  return {\r\n    top: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n    left: `calc(${random() * 100}% + ${randomMove()}px)`,\r\n    opacity: randomOpacity(),\r\n    scale: [1, 1.2, 0],\r\n  };\r\n}\r\n\r\nconst randomDuration = random() * 10 + 20;\r\n</script>\r\n",
      "target": "uniapp"
    }
  ],
  "fileCount": 5,
  "contentHash": "0e9410b947f6b00ea510f4bb265e4a5ec7568fc7"
}
